(self.webpackChunkwumu_edit_table=self.webpackChunkwumu_edit_table||[]).push([[433],{44570:function(f,x,e){"use strict";e.d(x,{W:function(){return d},y:function(){return y}});var y=[{title:"\u59D3\u540D",dataIndex:"name"},{title:"\u804C\u4E1A",dataIndex:"job"},{title:"\u5E74\u9F84",dataIndex:"age"},{title:"\u5BB6\u5EAD\u5730\u5740",dataIndex:"address"},{title:"\u5907\u6CE8",dataIndex:"remark"}],d=[{remark:"\u70B9\u51FB\u4EFB\u610F\u5355\u5143\u683C\u8FDB\u884C\u7F16\u8F91"},{name:"\u68EE\u6797",job:"\u5207\u56FE\u5D3D",age:"26",address:"\u56DB\u5DDD",remark:"\u60F3\u5199\u4E00\u4E2A\u7B80\u5355\u7684\u76F4\u63A5\u4E0A\u624B\u7684\u53EF\u7F16\u8F91\u8868\u683C"},{name:"\u5C0F\u82B1",job:"\u4F1A\u8BA1",age:"\u4FDD\u5BC6",address:"",remark:"\u5E73\u65F6\u5C31\u662F\u505A\u505A\u8D26\uFF0C\u62A5\u62A5\u7A0E\uFF0C\u4ED8\u4ED8\u6B3E\u800C\u5DF2\uFF0C\u4E00\u4E2A\u6708\u6709\u534A\u4E2A\u6708\u5728\u73A9"},{name:"\u5927\u78CA",job:"\u7535\u7ADE\u5DE5\u4F5C\u8005",age:"",address:"\u5BB6",remark:""}]},28032:function(f,x,e){"use strict";e.r(x);var y=e(42122),d=e.n(y),g=e(27424),v=e.n(g),I=e(67294),h=e(65210),i=e(37868),D=e(85893);x.default=function(){var H=(0,I.useState)(""),T=v()(H,2),Z=T[0],z=T[1],J=[{verison:"0.0.1",log:"init project",remark:"\u{1F44A}based on dumi v2",user:{name:"xiaohua",age:18}},{},{verison:"0.0.2",log:"add header Render"},{verison:"0.0.3",log:"feat style"},{},{verison:"\u{1F4A5}0.1.0",log:"add changeHandle",remark:"\u57FA\u7840\u529F\u80FD\u5DF2\u7ECF\u53EF\u7528"},{},{verison:"0.1.2",log:"add api docs",remark:"\u2728\u65B0\u589Eapi\u6587\u6863"},{},{},{verison:"\u{1F38A}0.1.3",log:"add github pages",remark:"\u5730\u5740: https://wumusenlin.github.io/wumu-edit-table/components/edit-table"},{},{},{},{verison:"\u{1F4A5}0.1.0",log:"add changeHandle",remark:"\u57FA\u7840\u529F\u80FD\u5DF2\u7ECF\u53EF\u7528"},{},{verison:"0.0.3",log:"feat style"},{},{verison:"\u{1F4A5}0.1.0",log:"add changeHandle",remark:"\u57FA\u7840\u529F\u80FD\u5DF2\u7ECF\u53EF\u7528"},{},{verison:"0.1.2",log:"add api docs",remark:"\u2728\u65B0\u589Eapi\u6587\u6863"},{}],Q=(0,I.useState)(J.map(function(O,E){return d()(d()({},O),{},{index:E})})),c=v()(Q,2),k=c[0],U=c[1],$=[{title:"\u5E8F\u53F7",dataIndex:"index",width:60,align:"center",fixed:"left"},{title:"\u7248\u672C\u53F7",dataIndex:"verison",width:120,fixed:"left"},{title:"\u66F4\u65B0\u65E5\u5FD7",dataIndex:"log",align:"right",width:300,inputOptions:{placeholder:"\u8BF7\u8F93\u5165\u66F4\u65B0\u65E5\u5FD7"}},{title:"\u7248\u672C\u5907\u6CE8",dataIndex:"remark",width:400},{title:"\u66F4\u65B0\u4EBA-\u59D3\u540D",dataIndex:["user","name"],width:120},{title:"\u66F4\u65B0\u4EBA-\u5E74\u7EAA",width:120,dataIndex:["user","age"]},{title:"\u64CD\u4F5C",width:120,dataIndex:"options",fixed:"right",align:"center",permanentNode:function(E,b){return(0,D.jsx)("a",{onClick:function(){console.log(b),U(function(ue){return ue.slice(0,b._rowIndex).concat(ue.slice(b._rowIndex+1))})},children:"\u5220\u9664"})}}],te=function(){U(function(E){return E.concat([{}])})},G=function(){U(function(E){return E.slice(0,-1)})},ne=function(){U([])},he=function(E,b){console.log("options",b),U(E)};return(0,D.jsxs)("div",{className:"wumu-demo",children:[(0,D.jsxs)("div",{className:"wumu-demo-wrap",style:{display:"flex",marginBottom:"16px"},children:[(0,D.jsx)("button",{onClick:te,type:"button",className:"wumu-demo-button",children:"\u65B0\u589E\u884C\u5230\u6700\u540E"}),(0,D.jsx)("button",{onClick:G,type:"button",className:"wumu-demo-button",children:"\u5220\u9664\u6700\u540E\u884C"}),(0,D.jsx)("button",{onClick:ne,type:"button",className:"wumu-demo-button",children:"\u5168\u90E8\u5220\u9664"})]}),(0,D.jsx)(h.O,{editId:Z,onEdit:z,columns:$,dataSource:k,onChange:he})]})}},38602:function(f,x,e){"use strict";e.r(x);var y=e(27424),d=e.n(y),g=e(67294),v=e(65210),I=e(37868),h=e(44570),i=e(85893);x.default=function(){var D=(0,g.useState)(""),H=d()(D,2),T=H[0],Z=H[1],z=(0,g.useState)(h.W),J=d()(z,2),Q=J[0],c=J[1],k=(0,g.useState)(h.y),U=d()(k,1),$=U[0],te=function(){c(function(E){return E.concat([{}])})},G=function(){c(function(E){return E.slice(0,-1)})},ne=function(){c([])},he=function(E,b){console.log("options",b),c(E)};return(0,i.jsxs)("div",{className:"wumu-demo",children:[(0,i.jsxs)("div",{className:"wumu-demo-wrap",style:{display:"flex",marginBottom:"16px"},children:[(0,i.jsx)("button",{onClick:te,type:"button",className:"wumu-demo-button",children:"\u65B0\u589E\u884C\u5230\u6700\u540E"}),(0,i.jsx)("button",{onClick:G,type:"button",className:"wumu-demo-button",children:"\u5220\u9664\u6700\u540E\u884C"}),(0,i.jsx)("button",{onClick:ne,type:"button",className:"wumu-demo-button",children:"\u5168\u90E8\u5220\u9664"})]}),(0,i.jsx)(v.O,{editId:T,onEdit:Z,columns:$,dataSource:Q,onChange:he})]})}},89253:function(f,x,e){"use strict";e.r(x);var y=e(27424),d=e.n(y),g=e(67294),v=e(65210),I=e(37868),h=e(85893);x.default=function(){var i=(0,g.useState)(""),D=d()(i,2),H=D[0],T=D[1],Z=(0,g.useState)([{A:"A1",B:"B1",C:"C1",F:"F1"},{A:"A2",E:"B2",C:"C2",D:"D2"}]),z=d()(Z,2),J=z[0],Q=z[1],c=[{title:"A",dataIndex:"A",width:200,align:"center"},{title:"B",dataIndex:"B",width:200,align:"center"},{title:"C",dataIndex:"C",width:200,align:"center"},{title:"D",dataIndex:"D",width:200,align:"center"},{title:"E",dataIndex:"E",width:200,align:"center"}],k=function($,te){console.log("options",te),Q($)};return(0,h.jsx)("div",{className:"wumu-demo",children:(0,h.jsx)(v.O,{editId:H,onEdit:T,columns:c,dataSource:J,onChange:k,headerDraggable:!0,headerBackground:"#e5f6fc"})})}},76648:function(f,x,e){"use strict";e.r(x);var y=e(42122),d=e.n(y),g=e(27424),v=e.n(g),I=e(67294),h=e(65210),i=e(85893);x.default=function(){var D=(0,I.useState)(""),H=v()(D,2),T=H[0],Z=H[1],z=[{value:1,label:"v0.0.1"},{value:2,label:"v0.1.0"},{value:3,label:"v0.1.2"},{value:4,label:"v0.1.3"}],J=[{id:1,version:"0.0.1",log:"init project",remark:"\u{1F44A}based on dumi v2"},{id:2,version:"0.0.2",log:"add header Render"},{id:3,version:"0.0.3",log:"feat style"},{id:4,version:"\u{1F4A5}0.1.0",log:"add changeHandle",remark:"\u57FA\u7840\u529F\u80FD\u5DF2\u7ECF\u53EF\u7528"},{id:5,version:"0.1.2",log:"add api docs",remark:"\u2728\u65B0\u589Eapi\u6587\u6863"},{id:6,version:"\u{1F38A}0.1.3",log:"add github pages",remark:"\u5730\u5740: https://wumusenlin.github.io/wumu-edit-table/components/edit-table"}],Q=[{versionId:1,version:"0.0.1",log:"init project",remark:"\u{1F44A}based on dumi v2"},{versionId:4,version:"\u{1F4A5}0.1.0",log:"add changeHandle",remark:"\u57FA\u7840\u529F\u80FD\u5DF2\u7ECF\u53EF\u7528"},{versionId:2,version:"0.0.2",log:"add header Render"}],c=(0,I.useState)(Q.map(function(O,E){return d()(d()({},O),{},{index:E})})),k=v()(c,2),U=k[0],$=k[1],te=function(E){var b=E._rowIndex+1;$(function(S){return S.slice(0,b).concat([{}]).concat(S.slice(b))})},G=function(E){var b=E._rowIndex;$(function(S){return b<0?S:S.slice(0,b).concat(S.slice(b+1))})},ne=[{title:"\u64CD\u4F5C",dataIndex:"add",width:60,align:"center",fixed:"left",permanentNode:function(E,b){return(0,i.jsx)("a",{title:"\u65B0\u589E\u5230\u4E0B\u4E00\u884C",style:{cursor:"pointer",color:"green"},onClick:function(){return te(b)},children:"\u2795"})}},{title:"\u9009\u62E9\u7248\u672C\u53F7",dataIndex:"versionId",width:200,inputType:"select",inputOptions:{selectData:z}},{title:"\u7248\u672C\u53F7",dataIndex:"version",width:300},{title:"\u66F4\u65B0\u65E5\u5FD7",dataIndex:"log",align:"right",width:300},{title:"\u5907\u6CE8",dataIndex:"remark"},{title:"\u64CD\u4F5C",dataIndex:"remove",width:80,align:"center",fixed:"right",permanentNode:function(E,b){return(0,i.jsx)("a",{title:"\u5220\u9664\u5F53\u524D\u884C",style:{cursor:"pointer",color:"green"},onClick:function(){return G(b)},children:"\u274C"})}}],he=function(E,b){var S;console.log("options",b);var ue=b.value,ge=b.rowIndex,Te=(S=J.find(function(pe){return pe.id===ue}))!==null&&S!==void 0?S:{};E[ge]=d()(d()({},E[ge]),Te),$(E)};return(0,i.jsx)(h.O,{editId:T,onEdit:Z,columns:ne,dataSource:U,onChange:he,config:{color:{primaryColor:"#3ca8f9"}}})}},84105:function(f,x,e){"use strict";e.r(x);var y=e(42122),d=e.n(y),g=e(27424),v=e.n(g),I=e(67294),h=e(65210),i=e(37868),D=e(85893);x.default=function(){var H=(0,I.useState)(""),T=v()(H,2),Z=T[0],z=T[1],J=[{value:1,label:"v0.0.1"},{value:2,label:"v0.1.0"},{value:3,label:"v0.1.2"},{value:4,label:"v0.1.3"}],Q=[{id:1,verison:"0.0.1",log:"init project",remark:"\u{1F44A}based on dumi v2"},{id:2,verison:"0.0.2",log:"add header Render"},{id:3,verison:"0.0.3",log:"feat style"},{id:4,verison:"\u{1F4A5}0.1.0",log:"add changeHandle",remark:"\u57FA\u7840\u529F\u80FD\u5DF2\u7ECF\u53EF\u7528"},{id:5,verison:"0.1.2",log:"add api docs",remark:"\u2728\u65B0\u589Eapi\u6587\u6863"},{id:6,verison:"\u{1F38A}0.1.3",log:"add github pages",remark:"\u5730\u5740: https://wumusenlin.github.io/wumu-edit-table/components/edit-table"}],c=[{title:"\u5E8F\u53F7",dataIndex:"index",width:60,align:"center",fixed:"left"},{title:"\u9009\u62E9\u7248\u672C\u53F7",dataIndex:"select",width:200,inputType:"select",inputOptions:{selectData:J}},{title:"\u7248\u672C\u53F7",dataIndex:"verison",width:300},{title:"\u66F4\u65B0\u65E5\u5FD7",dataIndex:"log",align:"right",width:300},{title:"\u5907\u6CE8",dataIndex:"remark"}],k=[{}],U=(0,I.useState)(k.map(function(b,S){return d()(d()({},b),{},{index:S})})),$=v()(U,2),te=$[0],G=$[1],ne=function(){G(function(S){return S.concat([{}])})},he=function(){G(function(S){return S.slice(0,-1)})},O=function(){G([])},E=function(S,ue){var ge;console.log("options",ue);var Te=ue.value,pe=ue.rowIndex,Le=(ge=Q.find(function(Be){return Be.id===Te}))!==null&&ge!==void 0?ge:{};S[pe]=d()(d()({},S[pe]),Le),G(S)};return(0,D.jsxs)("div",{className:"wumu-demo",children:[(0,D.jsxs)("div",{className:"wumu-demo-wrap",style:{display:"flex",marginBottom:"16px"},children:[(0,D.jsx)("button",{onClick:ne,type:"button",className:"wumu-demo-button",children:"\u65B0\u589E\u884C\u5230\u6700\u540E"}),(0,D.jsx)("button",{onClick:he,type:"button",className:"wumu-demo-button",children:"\u5220\u9664\u6700\u540E\u884C"}),(0,D.jsx)("button",{onClick:O,type:"button",className:"wumu-demo-button",children:"\u5168\u90E8\u5220\u9664"})]}),(0,D.jsx)(h.O,{editId:Z,onEdit:z,columns:c,dataSource:te,onChange:E})]})}},18266:function(f,x,e){"use strict";e.r(x);var y=e(27424),d=e.n(y),g=e(67294),v=e(65210),I=e(44570),h=e(85893);x.default=function(){var i=(0,g.useState)(""),D=d()(i,2),H=D[0],T=D[1],Z=(0,g.useState)(I.W),z=d()(Z,2),J=z[0],Q=z[1],c=(0,g.useState)(I.y),k=d()(c,1),U=k[0],$=function(G,ne){console.log("options",ne),Q(G)};return(0,h.jsx)(v.O,{editId:H,onEdit:T,columns:U,dataSource:J,onChange:$})}},65210:function(f,x,e){"use strict";e.d(x,{O:function(){return lt}});var y=e(42122),d=e.n(y),g=e(38416),v=e.n(g),I=e(27424),h=e.n(I),i=e(67294),D=e(861),H=e.n(D);function T(t){return Array.isArray(t)?t:[]}function Z(t){return t!=null&&t!==""}function z(t){return!Z(t)}function J(t){return Array.isArray(t)&&t.length>0}var Q=function(n){return typeof n=="function"},c=e(85893),k={text:"text",select:"select"};function U(t){var n=t.columns,r=t.autoCol,u=r.autoWidthColIndex,a=r.autoColWidth;return(0,c.jsx)("colgroup",{children:n.map(function(s,o){var m=s.width,l="col-".concat(o);return u===o?(0,c.jsx)("col",{style:{width:a!=null?a:120}},l):(0,c.jsx)("col",{style:{width:m!=null?m:120}},l)})})}function $(t){var n=t.columns,r=t.clientWidth,u=r===void 0?0:r,a=null;n.forEach(function(o,m){var l=o.fixed;l!=="right"&&(a=m)});var s=u-n.reduce(function(o,m,l){var _;return o+(l===a?0:(_=m.width)!==null&&_!==void 0?_:120)},0);return{autoWidthColIndex:a,autoColWidth:s<120?120:s}}function te(t){var n=0,r=0,u={},a={},s=T(t).length;return T(t).reverse().forEach(function(o,m){var l=o.width,_=l===void 0?120:l,P=o.fixed;P==="right"&&(a[s-m-1]=r,r+=_)}),T(t).reverse().forEach(function(o,m){var l=o.width,_=o.fixed;_==="left"&&(u[m]=n,n+=l)}),{left:u,right:a}}function G(t){return t.map(function(n,r){return d()(d()({},n),{},{_rowIndex:r,rowIndex:r})})}function ne(){return(0,c.jsx)("div",{className:"wumu-default-not-found-content",children:"\u6682\u65E0\u6570\u636E~"})}function he(t){var n=t.containerInfo,r=t.children,u=r===void 0?ne():r,a={width:n.offsetWidth,position:"sticky",left:0};return(0,c.jsx)("div",{style:a,children:u})}function O(t){var n=t.className,r=t.rowIndex,u=t.columnIndex,a=t.readonly,s=t.fixed,o=t.fixedClassName,m=o===void 0?"table-fixed-td":o,l=t.fixedInfo,_=n;return r===0&&(_+=" table-first-tr"),u===0&&(_+=" table-first-td"),a&&(_+=" table-td-readonly"),s&&(s==="left"&&l?u===Math.max.apply(Math,H()(Object.keys(l==null?void 0:l.left)))&&(_+=" fixed-left-shadow"):s==="right"&&l&&u===Math.min.apply(Math,H()(Object.keys(l==null?void 0:l.right)))&&(_+=" fixed-right-shadow"),_+=" ".concat(m)),_}function E(t){var n=t.style,r=t.fixed,u=t.align,a=t.fixedInfo,s=t.columnIndex,o=t.defaultRightWidth,m=o===void 0?0:o;return u&&(n.textAlign=u),r&&(n.position="sticky",n.zIndex=1,r==="left"?n.left=a.left[s]:r==="right"&&(n.right=a.right[s]+m)),n}function b(t,n){var r=String(t).replace(/[^0-9a-f]/gi,"");r.length<6&&(r=r[0]+r[0]+r[1]+r[1]+r[2]+r[2]);var u=n||0,a="#",s,o;for(o=0;o<3;o++)s=parseInt(r.substr(o*2,2),16),s=Math.round(Math.min(Math.max(0,s+s*u),255)).toString(16),a+=("00"+s).substring(s.length);return a}function S(t,n){var r,u=t==null||(r=t.color)===null||r===void 0?void 0:r.primaryColor;return n?b(u||"#1da57a",n):"".concat(u!=null?u:"var(--primary-color)")}function ue(t){var n=t.columns,r=t.headerHeight,u=t.headerBackground,a=u===void 0?"var(--table-header-bg)":u,s=t.fixedInfo,o=t.tableUid,m=t.headerDraggable,l=n.map(function(P,j){var R=P.title,C=P.dataIndex,w=P.align,F=w===void 0?"left":w,q=P.fixed,M=P.readonly,A={textAlign:F},oe="".concat(C,"-").concat(j),ee=q?(0,c.jsx)("div",{className:"table-cell-overflow-hidden",children:R}):R;return(0,c.jsx)("th",{title:R,className:O({className:"table-th",readonly:M,fixed:q,fixedInfo:s,fixedClassName:"table-fixed-th",columnIndex:j}),"data-index":C.toString(),style:E({style:A,align:F,fixed:q,fixedInfo:s,columnIndex:j}),draggable:m,children:ee},oe)}),_={height:r,background:a};return(0,c.jsx)("thead",{children:(0,c.jsx)("tr",{style:_,className:"table-header",id:o,children:l})})}var ge=ue,Te=e(70215),pe=e.n(Te),Le=function(n){var r=n.initValue,u=n.inputChange,a=u===void 0?function(){}:u,s=n.onEdit,o=s===void 0?function(){}:s,m=n.column,l=m.align,_=l===void 0?"left":l,P=m.inputOptions,j=P===void 0?{}:P,R={textAlign:_};return(0,c.jsx)("input",d()({className:"wumu-input",style:R,defaultValue:r,onChange:function(w){a(w.target.value)},autoFocus:!0,onBlur:function(){return o("")}},j))},Be=Le,$e=e(73935),Ke=function(n){var r,u,a,s=(0,i.useRef)({current:{inited:!1}}),o=(0,i.useContext)(Re),m=o.topHeight,l=n.initValue,_=n.inputChange,P=_===void 0?function(){}:_,j=n.onEdit,R=j===void 0?function(){}:j,C=n.column,w=n.config,F=w===void 0?null:w,q=C.align,M=q===void 0?"left":q,A=C.inputOptions,oe=C.dataIndex,ee=A!=null?A:{},B=ee.selectData,se=(r=(u=T(B).find(function(N){return N.value===l}))===null||u===void 0?void 0:u.label)!==null&&r!==void 0?r:l,W=(0,i.useRef)(null),_e=(0,i.useState)(!0),ae=h()(_e,2),xe=ae[0],X=ae[1],re=(0,i.useState)({}),me=h()(re,2),p=me[0],ce=me[1],be={textAlign:M},De={position:"absolute",zIndex:"10",width:((a=p==null?void 0:p.clientWidth)!==null&&a!==void 0?a:120)+16,left:(p==null?void 0:p.left)-16,top:(p==null?void 0:p.top)+(p==null?void 0:p.clientHeight)+3-m},le=(0,i.useMemo)(function(){if((B==null?void 0:B.length)===0)return(0,c.jsx)("div",{className:"wumu-dropdown-notfount",children:"\u6682\u65E0\u6570\u636E ~"});var N=T(B).map(function(K,V){var Y=K.value,fe=K.label,Ee="".concat(V,"-").concat(Y),de=Y===l,Se="".concat(de?"wumu-dropDown-selected-item":""," wumu-dropdown-item"),Oe=de?{backgroundColor:"".concat(S(F,.3))}:{};return(0,c.jsx)("div",{style:Oe,className:Se,onClick:function(Ie){Ie.stopPropagation(),P(Y),R(""),X(!1)},children:fe},Ee)});return(0,c.jsx)(c.Fragment,{children:N})},[B==null?void 0:B.length]),L=function(){s.current.inited?(X(!1),R("")):s.current.inited=!0};(0,i.useEffect)(function(){if(W!=null&&W.current){for(var N,K=W.current,V=(N=W.current)!==null&&N!==void 0?N:{},Y=V.clientWidth,fe=V.clientHeight,Ee=V.offsetTop,de=V.offsetLeft,Se=Ee,Oe=de;(ye=K)!==null&&ye!==void 0&&ye.offsetParent;){var ye,Ie;Se+=K.offsetTop,Oe+=K.offsetLeft,K=(Ie=K)===null||Ie===void 0?void 0:Ie.offsetParent}ce({clientWidth:Y,clientHeight:fe,top:Se,left:Oe})}},[W==null?void 0:W.current]),(0,i.useEffect)(function(){return document.addEventListener("click",L),function(){return document.removeEventListener("click",L)}},[]);var ie=xe?(0,$e.createPortal)((0,c.jsx)("div",{className:"wumu-input-dropdown",style:De,children:le}),document.body):null;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{ref:W,className:"wumu-input",autoFocus:!0,name:oe,style:be,onBlur:function(){return R("")},children:se}),ie]})},ke=Ke,Fe=function(n){var r=n.column,u=r.inputType;return u===k.select?(0,c.jsx)(ke,d()({},n)):(0,c.jsx)(Be,d()({},n))},Ve=Fe;function ze(t){var n,r,u=t.rowIndex,a=t.record,s=t.rowHeight,o=t.editId,m=t.onEdit,l=m===void 0?function(){}:m,_=t.handleChange,P=_===void 0?function(){}:_,j=t.config,R=j===void 0?null:j,C=t.col,w=t.columnIndex,F=t.fixedInfo,q=t.tableUid,M=a._rowIndex,A=C.dataIndex,oe=C.align,ee=oe===void 0?"left":oe,B=C.readonly,se=B===void 0?!1:B,W=C.fixed,_e=C.inputType,ae=C.permanentNode,xe="".concat(q,"-").concat(w,"-").concat(A),X="".concat(M,"-").concat(A),re=X===o,me={height:s,boxShadow:re?"inset 0px 0px 0px 1px ".concat(S(R)):"",padding:re?" 0 8px":"0 12px"},p=function(){if(Array.isArray(A)){var L=a;return A.forEach(function(ie){L instanceof Object?L=L[ie]:L=null}),L}return a[A]};if(ae){var ce=Q(ae)?ae(p(),a):ae;return(0,c.jsx)("td",{id:X,style:E({style:me,align:ee,fixed:W,fixedInfo:F,columnIndex:w}),className:O({className:"table-td-node",rowIndex:u,columnIndex:w,readonly:se,fixedInfo:F,fixed:W}),children:ce},xe)}var be=function(L){P(L,{rowIndex:M,dataIndex:A,record:a})},De=re?(0,c.jsx)(Ve,{config:R,initValue:p(),inputChange:be,onEdit:l,column:C}):_e===k.select?(n=T(C==null||(r=C.inputOptions)===null||r===void 0?void 0:r.selectData).find(function(le){return le.value===p()}))===null||n===void 0?void 0:n.label:W?(0,c.jsx)("div",{className:"table-cell-overflow-hidden",children:p()}):p();return(0,c.jsx)("td",{id:X,style:E({style:me,align:ee,fixed:W,fixedInfo:F,columnIndex:w}),className:O({className:"table-td",rowIndex:u,columnIndex:w,readonly:se,fixed:W,fixedInfo:F}),title:p(),onClick:function(){return typeof l=="function"&&!se?l(X):void 0},children:De},xe)}var Ge=ze;function Xe(t){var n=t.columns,r=t.rowIndex,u=t.tableUid,a="".concat(u,"-").concat(r);return(0,c.jsx)("tr",{className:"table-tr",children:n.map(function(s,o){return Ge(d()(d()({},t),{},{tableUid:u,rowIndex:r,col:s,columnIndex:o}))})},a)}var Ye=Xe,Ze=["dataSource","notFoundContent"];function Je(t){var n=t.dataSource,r=t.notFoundContent,u=pe()(t,Ze),a=T(n).length===0;return a?r:(0,c.jsx)("tbody",{className:"table-tbody",children:T(n).map(function(s,o){return Ye(d()({rowIndex:o,record:s},u))})})}var Qe=Je,qe=e(56690),et=e.n(qe),tt=e(89728),nt=e.n(tt),at=function(){function t(n,r,u){var a=this;et()(this,t),v()(this,"elementTr",void 0),v()(this,"columns",void 0),v()(this,"setColumns",void 0),v()(this,"currentTh",null),v()(this,"handleDragStart",function(s){var o=s.target;if(o.tagName==="TH"){var m=o.getAttribute("data-index"),l=a.columns.find(function(_){return _.dataIndex===m});if(l&&(l.fixed==="left"||l.fixed==="right")){s.preventDefault();return}s.dataTransfer.effectAllowed="move",a.currentTh=o,a.currentTh.style.border="1px solid var(--primary-color)",setTimeout(function(){var _;return(_=a.currentTh)===null||_===void 0?void 0:_.classList.add("wumu-drag-moving")},0)}}),v()(this,"handleDragEnter",function(s){s.preventDefault();var o=s.target;if(!(o===a.currentTh||o===a.elementTr)){var m=o.getAttribute("data-index"),l=a.columns.find(function(w){return w.dataIndex===m});if(!(l&&(l.fixed==="left"||l.fixed==="right"))){var _=Array.from(a.elementTr.childNodes),P=_.indexOf(a.currentTh),j=_.indexOf(o),R=a.columns.filter(function(w){return w.fixed==="left"}),C=a.columns.filter(function(w){return w.fixed==="right"});j<R.length||j>=a.columns.length-C.length||(P<j?a.elementTr.insertBefore(a.currentTh,o.nextElementSibling):a.elementTr.insertBefore(a.currentTh,o))}}}),v()(this,"handleDragOver",function(s){s.preventDefault()}),v()(this,"handleDragEnd",function(){if(a.currentTh){var s=Array.from(a.elementTr.children).map(function(o){return o.getAttribute("data-index")});a.setColumns(function(o){return s.map(function(m){return o.find(function(l){return l.dataIndex===m})})}),a.currentTh.classList.remove("wumu-drag-moving"),a.currentTh.style.border="",a.currentTh=null}}),this.elementTr=n,this.columns=r,this.setColumns=u,this.elementTr.addEventListener("dragstart",this.handleDragStart),this.elementTr.addEventListener("dragenter",this.handleDragEnter),this.elementTr.addEventListener("dragover",this.handleDragOver),this.elementTr.addEventListener("dragend",this.handleDragEnd)}return nt()(t,[{key:"destroy",value:function(){this.elementTr.removeEventListener("dragstart",this.handleDragStart),this.elementTr.removeEventListener("dragenter",this.handleDragEnter),this.elementTr.removeEventListener("dragover",this.handleDragOver),this.elementTr.removeEventListener("dragend",this.handleDragEnd)}}]),t}(),rt=function(n,r){var u,a=r!=null?r:{},s=a.overscan,o=s===void 0?0:s,m=a.itemHeight,l=m===void 0?40:m,_=a.maxHeight,P=_===void 0?400:_,j=a.onScrolled,R=j===void 0?function(){}:j,C=a.wrapperPropsStyle,w=C===void 0?{}:C,F=a.calcDelay,q=F===void 0?50:F,M=(0,i.useRef)(null),A=(0,i.useRef)({lastTime:Date.now(),timer:null}),oe=(0,i.useState)(0),ee=h()(oe,2),B=ee[0],se=ee[1],W=(0,i.useState)(Math.ceil(P/l)),_e=h()(W,1),ae=_e[0],xe=(0,i.useState)({offsetWidth:0,clientWidth:0}),X=h()(xe,2),re=X[0],me=X[1],p=(0,i.useMemo)(function(){return B*l},[B,l]),ce=(0,i.useMemo)(function(){return(n==null?void 0:n.length)*l},[n==null?void 0:n.length,l]),be=function(N){var K=N.target,V=K.scrollTop,Y=V===void 0?0:V,fe=K.scrollLeft,Ee=fe===void 0?0:fe;R({scrollLeft:Ee,scrollTop:Y});var de=o>0?Math.floor(Y/l)-Math.ceil(o/2):Math.floor(Y/l);Date.now()-A.current.lastTime>q?(se(de>0?de:0),A.current.lastTime=Date.now()):(A.current.timer&&clearTimeout(A.current.timer),A.current.timer=setTimeout(function(){se(de>0?de:0)},q))},De=(0,i.useMemo)(function(){return{style:d()(d()({},w),{},{width:"100%",height:ce,transform:"translateZ(0)",paddingTop:p})}},[p,ce]),le={onScroll:be,ref:function(N){return M.current=N},style:{overflowY:"auto",overflowX:"auto",maxHeight:P,overflow:"auto"}};(0,i.useEffect)(function(){if(M!=null&&M.current){var ie=new ResizeObserver(function(N){N.forEach(function(K){var V=K.target,Y=V.offsetWidth,fe=V.clientWidth;me({offsetWidth:Y,clientWidth:fe})})});return ie.observe(M==null?void 0:M.current),function(){ie.disconnect()}}},[M==null?void 0:M.current]);var L=n.slice(B,B+ae+o);return{list:L,wrapperProps:De,containerProps:le,topHeight:p,bottomHeight:ce-p-((u=L.length)!==null&&u!==void 0?u:0)*l,containerInfo:re}},it=rt,Re=(0,i.createContext)({topHeight:0}),ot=function(n){var r=n.columns,u=n.dataSource,a=n.editId,s=n.onEdit,o=s===void 0?function(){}:s,m=n.rowHeight,l=m===void 0?40:m,_=n.maxHeight,P=_===void 0?400:_,j=n.headerHeight,R=j===void 0?55:j,C=n.headerBackground,w=C===void 0?"var(--table-header-bg)":C,F=n.onChange,q=F===void 0?function(){}:F,M=n.hiddenHerder,A=M===void 0?!1:M,oe=n.notFoundContent,ee=oe===void 0?null:oe,B=n.config,se=B===void 0?null:B,W=n.headerDraggable,_e=W===void 0?!1:W,ae=n.calcDelay,xe=ae===void 0?50:ae,X=(0,i.useRef)(null),re=(0,i.useMemo)(function(){return"#table-header".concat(Date.now())},[]),me=(0,i.useState)([]),p=h()(me,2),ce=p[0],be=p[1],De=(0,i.useState)([]),le=h()(De,2),L=le[0],ie=le[1],N=(0,i.useState)(!1),K=h()(N,2),V=K[0],Y=K[1],fe=(0,i.useState)({autoWidthColIndex:null,autoColWidth:120}),Ee=h()(fe,2),de=Ee[0],Se=Ee[1],Oe=(0,i.useState)({left:{},right:{}}),ye=h()(Oe,2),Ie=ye[0],dt=ye[1],ut={itemHeight:l,maxHeight:P,overscan:0,calcDelay:xe,onScrolled:function(Ce){var Pe=Ce.scrollLeft;X.current&&(X.current.scrollLeft=Pe),Pe>0?Y(!0):Y(!1)},wrapperPropsStyle:{borderSpacing:0}},we=it(ce,ut),st=we.list,ct=we.wrapperProps,ft=we.containerProps,vt=we.bottomHeight,je=we.containerInfo,ht=we.topHeight,_t=function(Ce,Pe){var Me=Pe.rowIndex,Ae=Pe.dataIndex,We=ce;Array.isArray(Ae)?Ae.reduceRight(function(He,Ue,Et){return Et===0&&(We[Me][Ue]=He),v()({},Ue,He)},Ce):We[Me][Ae]=Ce,q(We,{rowIndex:Me,dataIndex:Ae,value:Ce,record:We[Me]})};(0,i.useEffect)(function(){be(G(u))},[u.length]),(0,i.useEffect)(function(){ie(r),dt(te(r))},[r]),(0,i.useEffect)(function(){je.clientWidth&&Se($({columns:L,clientWidth:je.clientWidth}))},[je]),(0,i.useEffect)(function(){if(_e){var ve=document.getElementById(re);if(ve){var Ce=new at(ve,L,ie);return function(){Ce.destroy()}}}},[_e,re,ie,L]);var mt=(0,i.useMemo)(function(){var ve="wumu-table";return V&&(ve=ve+" has-left-shadow"),ve=ve+" has-right-shadow",ve},[V]),Ne=U({columns:L,autoCol:de}),gt=A?null:(0,c.jsx)("div",{className:"wumu-table-header",ref:X,children:(0,c.jsxs)("table",{children:[Ne,ge({columns:L,headerHeight:R,headerBackground:w,fixedInfo:Ie,headerDraggable:_e,tableUid:re})]})}),xt={topHeight:ht};return console.log("render\u5F00\u59CB"),(0,c.jsx)("div",{className:mt,children:(0,c.jsxs)("div",d()(d()({className:"wumu-table-body"},ft),{},{children:[gt,(0,c.jsx)(Re.Provider,{value:xt,children:(0,c.jsxs)("table",d()(d()({},ct),{},{children:[Ne,Qe({tableUid:re,config:se,dataSource:st,columns:L,rowHeight:l,onEdit:o,editId:a,handleChange:_t,fixedInfo:Ie,notFoundContent:he({containerInfo:je,children:ee!=null?ee:ne()})}),(0,c.jsx)("div",{style:{height:vt}})]}))})]}))})},lt=ot},37868:function(){"use strict"},63405:function(f,x,e){var y=e(73897);function d(g){if(Array.isArray(g))return y(g)}f.exports=d,f.exports.__esModule=!0,f.exports.default=f.exports},56690:function(f){function x(e,y){if(!(e instanceof y))throw new TypeError("Cannot call a class as a function")}f.exports=x,f.exports.__esModule=!0,f.exports.default=f.exports},89728:function(f,x,e){var y=e(64062);function d(v,I){for(var h=0;h<I.length;h++){var i=I[h];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(v,y(i.key),i)}}function g(v,I,h){return I&&d(v.prototype,I),h&&d(v,h),Object.defineProperty(v,"prototype",{writable:!1}),v}f.exports=g,f.exports.__esModule=!0,f.exports.default=f.exports},79498:function(f){function x(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}f.exports=x,f.exports.__esModule=!0,f.exports.default=f.exports},42281:function(f){function x(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}f.exports=x,f.exports.__esModule=!0,f.exports.default=f.exports},70215:function(f,x,e){var y=e(7071);function d(g,v){if(g==null)return{};var I=y(g,v),h,i;if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(g);for(i=0;i<D.length;i++)h=D[i],!(v.indexOf(h)>=0)&&Object.prototype.propertyIsEnumerable.call(g,h)&&(I[h]=g[h])}return I}f.exports=d,f.exports.__esModule=!0,f.exports.default=f.exports},7071:function(f){function x(e,y){if(e==null)return{};var d={},g=Object.keys(e),v,I;for(I=0;I<g.length;I++)v=g[I],!(y.indexOf(v)>=0)&&(d[v]=e[v]);return d}f.exports=x,f.exports.__esModule=!0,f.exports.default=f.exports},861:function(f,x,e){var y=e(63405),d=e(79498),g=e(86116),v=e(42281);function I(h){return y(h)||d(h)||g(h)||v()}f.exports=I,f.exports.__esModule=!0,f.exports.default=f.exports}}]);
