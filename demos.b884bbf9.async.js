(self.webpackChunkwumu_edit_table=self.webpackChunkwumu_edit_table||[]).push([[433],{44570:function(v,I,e){"use strict";e.d(I,{W:function(){return a},y:function(){return j}});var j=[{title:"\u59D3\u540D",dataIndex:"name"},{title:"\u804C\u4E1A",dataIndex:"job"},{title:"\u5E74\u9F84",dataIndex:"age"},{title:"\u5BB6\u5EAD\u5730\u5740",dataIndex:"address"},{title:"\u5907\u6CE8",dataIndex:"remark"}],a=[{remark:"\u70B9\u51FB\u4EFB\u610F\u5355\u5143\u683C\u8FDB\u884C\u7F16\u8F91"},{name:"\u68EE\u6797",job:"\u5207\u56FE\u5D3D",age:"26",address:"\u56DB\u5DDD",remark:"\u60F3\u5199\u4E00\u4E2A\u7B80\u5355\u7684\u76F4\u63A5\u4E0A\u624B\u7684\u53EF\u7F16\u8F91\u8868\u683C"},{name:"\u5C0F\u82B1",job:"\u4F1A\u8BA1",age:"\u4FDD\u5BC6",address:"",remark:"\u5E73\u65F6\u5C31\u662F\u505A\u505A\u8D26\uFF0C\u62A5\u62A5\u7A0E\uFF0C\u4ED8\u4ED8\u6B3E\u800C\u5DF2\uFF0C\u4E00\u4E2A\u6708\u6709\u534A\u4E2A\u6708\u5728\u73A9"},{name:"\u5927\u78CA",job:"\u7535\u7ADE\u5DE5\u4F5C\u8005",age:"",address:"\u5BB6",remark:""}]},28032:function(v,I,e){"use strict";e.r(I);var j=e(42122),a=e.n(j),x=e(27424),y=e.n(x),b=e(67294),h=e(81196),l=e(37868),p=e(85893);I.default=function(){var k=(0,b.useState)(""),w=y()(k,2),ue=w[0],ne=w[1],J=[{verison:"0.0.1",log:"init project",remark:"\u{1F44A}based on dumi v2",user:{name:"xiaohua",age:18}},{verison:"0.0.2",log:"add header Render"},{verison:"0.0.3",log:"feat style"},{verison:"\u{1F4A5}0.1.0",log:"add changeHandle",remark:"\u57FA\u7840\u529F\u80FD\u5DF2\u7ECF\u53EF\u7528"},{verison:"0.1.2",log:"add api docs",remark:"\u2728\u65B0\u589Eapi\u6587\u6863"},{verison:"\u{1F38A}0.1.3",log:"add github pages",remark:"\u5730\u5740: https://wumusenlin.github.io/wumu-edit-table/components/edit-table"}],d=(0,b.useState)(J.map(function(D,m){return a()(a()({},D),{},{index:m})})),T=y()(d,2),Y=T[0],H=T[1],V=[{title:"\u5E8F\u53F7",dataIndex:"index",width:60,align:"center",fixed:"left"},{title:"\u7248\u672C\u53F7",dataIndex:"verison",width:120,fixed:"left"},{title:"\u66F4\u65B0\u65E5\u5FD7",dataIndex:"log",align:"right",width:300,inputOptions:{placeholder:"\u8BF7\u8F93\u5165\u66F4\u65B0\u65E5\u5FD7"}},{title:"\u7248\u672C\u5907\u6CE8",dataIndex:"remark",width:400},{title:"\u66F4\u65B0\u4EBA-\u59D3\u540D",dataIndex:["user","name"],width:120},{title:"\u66F4\u65B0\u4EBA-\u5E74\u7EAA",width:120,dataIndex:["user","age"]},{title:"\u64CD\u4F5C",width:120,dataIndex:"options",fixed:"right",align:"center",permanentNode:function(m,g){return(0,p.jsx)("a",{onClick:function(){console.log(g),H(function(ve){return ve.slice(0,-1)})},children:"\u5220\u9664"})}}],se=function(){H(function(m){return m.concat([{}])})},$=function(){H(function(m){return m.slice(0,-1)})},oe=function(){H([])},ae=function(m,g){console.log("options",g),H(m)};return(0,p.jsxs)("div",{className:"wumu-demo",children:[(0,p.jsxs)("div",{className:"wumu-demo-wrap",style:{display:"flex",marginBottom:"16px"},children:[(0,p.jsx)("button",{onClick:se,type:"button",className:"wumu-demo-button",children:"\u65B0\u589E\u884C\u5230\u6700\u540E"}),(0,p.jsx)("button",{onClick:$,type:"button",className:"wumu-demo-button",children:"\u5220\u9664\u6700\u540E\u884C"}),(0,p.jsx)("button",{onClick:oe,type:"button",className:"wumu-demo-button",children:"\u5168\u90E8\u5220\u9664"})]}),(0,p.jsx)(h.O,{editId:ue,onEdit:ne,columns:V,dataSource:Y,onChange:ae})]})}},38602:function(v,I,e){"use strict";e.r(I);var j=e(27424),a=e.n(j),x=e(67294),y=e(81196),b=e(37868),h=e(44570),l=e(85893);I.default=function(){var p=(0,x.useState)(""),k=a()(p,2),w=k[0],ue=k[1],ne=(0,x.useState)(h.W),J=a()(ne,2),d=J[0],T=J[1],Y=(0,x.useState)(h.y),H=a()(Y,1),V=H[0],se=function(){T(function(m){return m.concat([{}])})},$=function(){T(function(m){return m.slice(0,-1)})},oe=function(){T([])},ae=function(m,g){console.log("options",g),T(m)};return(0,l.jsxs)("div",{className:"wumu-demo",children:[(0,l.jsxs)("div",{className:"wumu-demo-wrap",style:{display:"flex",marginBottom:"16px"},children:[(0,l.jsx)("button",{onClick:se,type:"button",className:"wumu-demo-button",children:"\u65B0\u589E\u884C\u5230\u6700\u540E"}),(0,l.jsx)("button",{onClick:$,type:"button",className:"wumu-demo-button",children:"\u5220\u9664\u6700\u540E\u884C"}),(0,l.jsx)("button",{onClick:oe,type:"button",className:"wumu-demo-button",children:"\u5168\u90E8\u5220\u9664"})]}),(0,l.jsx)(y.O,{editId:w,onEdit:ue,columns:V,dataSource:d,onChange:ae})]})}},76648:function(v,I,e){"use strict";e.r(I);var j=e(42122),a=e.n(j),x=e(27424),y=e.n(x),b=e(67294),h=e(81196),l=e(85893);I.default=function(){var p=(0,b.useState)(""),k=y()(p,2),w=k[0],ue=k[1],ne=[{value:1,label:"v0.0.1"},{value:2,label:"v0.1.0"},{value:3,label:"v0.1.2"},{value:4,label:"v0.1.3"}],J=[{id:1,version:"0.0.1",log:"init project",remark:"\u{1F44A}based on dumi v2"},{id:2,version:"0.0.2",log:"add header Render"},{id:3,version:"0.0.3",log:"feat style"},{id:4,version:"\u{1F4A5}0.1.0",log:"add changeHandle",remark:"\u57FA\u7840\u529F\u80FD\u5DF2\u7ECF\u53EF\u7528"},{id:5,version:"0.1.2",log:"add api docs",remark:"\u2728\u65B0\u589Eapi\u6587\u6863"},{id:6,version:"\u{1F38A}0.1.3",log:"add github pages",remark:"\u5730\u5740: https://wumusenlin.github.io/wumu-edit-table/components/edit-table"}],d=[{versionId:1,version:"0.0.1",log:"init project",remark:"\u{1F44A}based on dumi v2"},{versionId:4,version:"\u{1F4A5}0.1.0",log:"add changeHandle",remark:"\u57FA\u7840\u529F\u80FD\u5DF2\u7ECF\u53EF\u7528"},{versionId:2,version:"0.0.2",log:"add header Render"}],T=(0,b.useState)(d.map(function(D,m){return a()(a()({},D),{},{index:m})})),Y=y()(T,2),H=Y[0],V=Y[1],se=function(m){var g=m._rowIndex+1;V(function(C){return C.slice(0,g).concat([{}]).concat(C.slice(g))})},$=function(m){var g=m._rowIndex;V(function(C){return g<0?C:C.slice(0,g).concat(C.slice(g+1))})},oe=[{title:"\u64CD\u4F5C",dataIndex:"add",width:60,align:"center",fixed:"left",permanentNode:function(m,g){return(0,l.jsx)("a",{title:"\u65B0\u589E\u5230\u4E0B\u4E00\u884C",style:{cursor:"pointer",color:"green"},onClick:function(){return se(g)},children:"\u2795"})}},{title:"\u9009\u62E9\u7248\u672C\u53F7",dataIndex:"versionId",width:200,inputType:"select",inputOptions:{selectData:ne}},{title:"\u7248\u672C\u53F7",dataIndex:"version",width:300},{title:"\u66F4\u65B0\u65E5\u5FD7",dataIndex:"log",align:"right",width:300},{title:"\u5907\u6CE8",dataIndex:"remark"},{title:"\u64CD\u4F5C",dataIndex:"add",width:80,align:"center",fixed:"right",permanentNode:function(m,g){return(0,l.jsx)("a",{title:"\u5220\u9664\u5F53\u524D\u884C",style:{cursor:"pointer",color:"green"},onClick:function(){return $(g)},children:"\u274C"})}}],ae=function(m,g){var C;console.log("options",g);var ve=g.value,me=g.rowIndex,we=(C=J.find(function(Ce){return Ce.id===ve}))!==null&&C!==void 0?C:{};m[me]=a()(a()({},m[me]),we),V(m)};return(0,l.jsx)(h.O,{editId:w,onEdit:ue,columns:oe,dataSource:H,onChange:ae,config:{color:{primaryColor:"#3ca8f9"}}})}},84105:function(v,I,e){"use strict";e.r(I);var j=e(42122),a=e.n(j),x=e(27424),y=e.n(x),b=e(67294),h=e(81196),l=e(37868),p=e(85893);I.default=function(){var k=(0,b.useState)(""),w=y()(k,2),ue=w[0],ne=w[1],J=[{value:1,label:"v0.0.1"},{value:2,label:"v0.1.0"},{value:3,label:"v0.1.2"},{value:4,label:"v0.1.3"}],d=[{id:1,verison:"0.0.1",log:"init project",remark:"\u{1F44A}based on dumi v2"},{id:2,verison:"0.0.2",log:"add header Render"},{id:3,verison:"0.0.3",log:"feat style"},{id:4,verison:"\u{1F4A5}0.1.0",log:"add changeHandle",remark:"\u57FA\u7840\u529F\u80FD\u5DF2\u7ECF\u53EF\u7528"},{id:5,verison:"0.1.2",log:"add api docs",remark:"\u2728\u65B0\u589Eapi\u6587\u6863"},{id:6,verison:"\u{1F38A}0.1.3",log:"add github pages",remark:"\u5730\u5740: https://wumusenlin.github.io/wumu-edit-table/components/edit-table"}],T=[{title:"\u5E8F\u53F7",dataIndex:"index",width:60,align:"center",fixed:"left"},{title:"\u9009\u62E9\u7248\u672C\u53F7",dataIndex:"select",width:200,inputType:"select",inputOptions:{selectData:J}},{title:"\u7248\u672C\u53F7",dataIndex:"verison",width:300},{title:"\u66F4\u65B0\u65E5\u5FD7",dataIndex:"log",align:"right",width:300},{title:"\u5907\u6CE8",dataIndex:"remark"}],Y=[{}],H=(0,b.useState)(Y.map(function(g,C){return a()(a()({},g),{},{index:C})})),V=y()(H,2),se=V[0],$=V[1],oe=function(){$(function(C){return C.concat([{}])})},ae=function(){$(function(C){return C.slice(0,-1)})},D=function(){$([])},m=function(C,ve){var me;console.log("options",ve);var we=ve.value,Ce=ve.rowIndex,Te=(me=d.find(function(Le){return Le.id===we}))!==null&&me!==void 0?me:{};C[Ce]=a()(a()({},C[Ce]),Te),$(C)};return(0,p.jsxs)("div",{className:"wumu-demo",children:[(0,p.jsxs)("div",{className:"wumu-demo-wrap",style:{display:"flex",marginBottom:"16px"},children:[(0,p.jsx)("button",{onClick:oe,type:"button",className:"wumu-demo-button",children:"\u65B0\u589E\u884C\u5230\u6700\u540E"}),(0,p.jsx)("button",{onClick:ae,type:"button",className:"wumu-demo-button",children:"\u5220\u9664\u6700\u540E\u884C"}),(0,p.jsx)("button",{onClick:D,type:"button",className:"wumu-demo-button",children:"\u5168\u90E8\u5220\u9664"})]}),(0,p.jsx)(h.O,{editId:ue,onEdit:ne,columns:T,dataSource:se,onChange:m})]})}},18266:function(v,I,e){"use strict";e.r(I);var j=e(27424),a=e.n(j),x=e(67294),y=e(81196),b=e(44570),h=e(85893);I.default=function(){var l=(0,x.useState)(""),p=a()(l,2),k=p[0],w=p[1],ue=(0,x.useState)(b.W),ne=a()(ue,2),J=ne[0],d=ne[1],T=(0,x.useState)(b.y),Y=a()(T,1),H=Y[0],V=function($,oe){console.log("options",oe),d($)};return(0,h.jsx)(y.O,{editId:k,onEdit:w,columns:H,dataSource:J,onChange:V})}},81196:function(v,I,e){"use strict";e.d(I,{O:function(){return tt}});var j=e(42122),a=e.n(j),x=e(38416),y=e.n(x),b=e(27424),h=e.n(b),l=e(67294),p=e(861),k=e.n(p);function w(t){return Array.isArray(t)?t:[]}function ue(t){return t!=null&&t!==""}function ne(t){return Array.isArray(t)&&t.length>0}var J=function(n){return typeof n=="function"},d=e(85893),T={text:"text",select:"select"};function Y(t){var n=t.columns,o=t.autoCol,r=t.scrollBar,u=o.autoWidthColIndex,s=o.autoColWidth,c=r?n.concat([{width:r,dataIndex:"_innerScrollBar",title:""}]):n;return(0,d.jsx)("colgroup",{children:c.map(function(_,i){var f=_.width,O="col-".concat(i);return u===i?(0,d.jsx)("col",{style:{width:s!=null?s:120}},O):(0,d.jsx)("col",{style:{width:f!=null?f:120}},O)})})}function H(t){var n=t.columns,o=t.clientWidth,r=o===void 0?0:o,u=null;n.forEach(function(c,_){var i=c.fixed;i!=="right"&&(u=_)});var s=r-n.reduce(function(c,_,i){var f;return c+(i===u?0:(f=_.width)!==null&&f!==void 0?f:120)},0);return{autoWidthColIndex:u,autoColWidth:s<120?120:s}}function V(t){var n=0,o=0,r={},u={},s=w(t).length;return w(t).reverse().forEach(function(c,_){var i=c.width,f=i===void 0?120:i,O=c.fixed;O==="right"&&(u[s-_-1]=o,o+=f)}),w(t).reverse().forEach(function(c,_){var i=c.width,f=c.fixed;f==="left"&&(r[_]=n,n+=i)}),{left:r,right:u}}function se(t){return t.map(function(n,o){return a()(a()({},n),{},{_rowIndex:o,rowIndex:o})})}function $(){return(0,d.jsx)("div",{className:"wumu-default-not-found-content",children:"\u6682\u65E0\u6570\u636E~"})}function oe(t){var n=t.containerInfo,o=t.children,r=o===void 0?$():o,u={width:n.offsetWidth,marginLeft:n.scrollLeft};return(0,d.jsx)("div",{children:(0,d.jsx)("div",{style:u,children:r})})}function ae(t){var n=t.className,o=t.rowIndex,r=t.columnIndex,u=t.readonly,s=t.fixed,c=t.fixedClassName,_=c===void 0?"table-fixed-td":c,i=t.fixedInfo,f=n;return o===0&&(f+=" table-first-tr"),r===0&&(f+=" table-first-td"),u&&(f+=" table-td-readonly"),s&&(s==="left"&&i?r===Math.max.apply(Math,k()(Object.keys(i==null?void 0:i.left)))&&(f+=" fixed-left-shadow"):s==="right"&&i&&r===Math.min.apply(Math,k()(Object.keys(i==null?void 0:i.right)))&&(f+=" fixed-right-shadow"),f+=" ".concat(_)),f}function D(t){var n=t.style,o=t.fixed,r=t.align,u=t.fixedInfo,s=t.columnIndex,c=t.defaultRightWidth,_=c===void 0?0:c;return r&&(n.textAlign=r),o&&(n.position="sticky",n.zIndex=1,o==="left"?n.left=u.left[s]:o==="right"&&(n.right=u.right[s]+_)),n}function m(t,n){var o=String(t).replace(/[^0-9a-f]/gi,"");o.length<6&&(o=o[0]+o[0]+o[1]+o[1]+o[2]+o[2]);var r=n||0,u="#",s,c;for(c=0;c<3;c++)s=parseInt(o.substr(c*2,2),16),s=Math.round(Math.min(Math.max(0,s+s*r),255)).toString(16),u+=("00"+s).substring(s.length);return u}function g(t,n){var o,r=t==null||(o=t.color)===null||o===void 0?void 0:o.primaryColor;return n?m(r||"#1da57a",n):"".concat(r!=null?r:"var(--primary-color)")}function C(t){var n=t.columns,o=t.headerHeight,r=t.fixedInfo,u=t.scrollBar,s=n.map(function(_,i){var f=_.title,O=_.dataIndex,L=_.align,K=L===void 0?"left":L,E=_.fixed,R=_.readonly,S={textAlign:K},re="".concat(O,"-").concat(i),B=E?(0,d.jsx)("div",{className:"table-cell-overflow-hidden",children:f}):f;return(0,d.jsx)("th",{title:f,className:ae({className:"table-th",readonly:R,fixed:E,fixedInfo:r,fixedClassName:"table-fixed-th",columnIndex:i}),style:D({style:S,align:K,fixed:E,fixedInfo:r,columnIndex:i,defaultRightWidth:u}),children:B},re)}),c={height:o};return(0,d.jsx)("thead",{children:(0,d.jsx)("tr",{style:c,className:"table-header",children:s})})}var ve=C,me=e(70215),we=e.n(me),Ce=function(n){var o=n.initValue,r=n.inputChange,u=r===void 0?function(){}:r,s=n.onEdit,c=s===void 0?function(){}:s,_=n.column,i=_.align,f=i===void 0?"left":i,O=_.inputOptions,L=O===void 0?{}:O,K={textAlign:f};return(0,d.jsx)("input",a()({className:"wumu-input",style:K,defaultValue:o,onChange:function(R){u(R.target.value)},autoFocus:!0,onBlur:function(){return c("")}},L))},Te=Ce,Le=e(73935),Ke=function(n){var o,r,u,s=(0,l.useRef)({current:{inited:!1}}),c=(0,l.useContext)(Re),_=c.topHeight,i=n.initValue,f=n.inputChange,O=f===void 0?function(){}:f,L=n.onEdit,K=L===void 0?function(){}:L,E=n.column,R=n.config,S=R===void 0?null:R,re=E.align,B=re===void 0?"left":re,z=E.inputOptions,_e=E.dataIndex,xe=z!=null?z:{},P=xe.selectData,ie=(o=(r=w(P).find(function(W){return W.value===i}))===null||r===void 0?void 0:r.label)!==null&&o!==void 0?o:i,N=(0,l.useRef)(null),Q=(0,l.useState)(!0),he=h()(Q,2),ce=he[0],G=he[1],q=(0,l.useState)({}),X=h()(q,2),M=X[0],ge=X[1],fe={textAlign:B},Z={position:"absolute",zIndex:"10",width:((u=M==null?void 0:M.clientWidth)!==null&&u!==void 0?u:120)+16,left:(M==null?void 0:M.left)-16,top:(M==null?void 0:M.top)+(M==null?void 0:M.clientHeight)+3-_},A=(0,l.useMemo)(function(){if((P==null?void 0:P.length)===0)return(0,d.jsx)("div",{className:"wumu-dropdown-notfount",children:"\u6682\u65E0\u6570\u636E ~"});var W=w(P).map(function(F,le){var de=F.value,Oe=F.label,Pe="".concat(le,"-").concat(de),te=de===i,ye="".concat(te?"wumu-dropDown-selected-item":""," wumu-dropdown-item"),be=te?{backgroundColor:"".concat(g(S,.3))}:{};return(0,d.jsx)("div",{style:be,className:ye,onClick:function(Ie){Ie.stopPropagation(),O(de),K(""),G(!1)},children:Oe},Pe)});return(0,d.jsx)(d.Fragment,{children:W})},[P==null?void 0:P.length]),ee=function(){s.current.inited?(G(!1),K("")):s.current.inited=!0};(0,l.useEffect)(function(){if(N!=null&&N.current){for(var W,F=N.current,le=(W=N.current)!==null&&W!==void 0?W:{},de=le.clientWidth,Oe=le.clientHeight,Pe=le.offsetTop,te=le.offsetLeft,ye=Pe,be=te;(De=F)!==null&&De!==void 0&&De.offsetParent;){var De,Ie;ye+=F.offsetTop,be+=F.offsetLeft,F=(Ie=F)===null||Ie===void 0?void 0:Ie.offsetParent}ge({clientWidth:de,clientHeight:Oe,top:ye,left:be})}},[N==null?void 0:N.current]),(0,l.useEffect)(function(){return document.addEventListener("click",ee),function(){return document.removeEventListener("click",ee)}},[]);var U=ce?(0,Le.createPortal)((0,d.jsx)("div",{className:"wumu-input-dropdown",style:Z,children:A}),document.body):null;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{ref:N,className:"wumu-input",autoFocus:!0,name:_e,style:fe,onBlur:function(){return K("")},children:ie}),U]})},Ue=Ke,Fe=function(n){var o=n.column,r=o.inputType;return r===T.select?(0,d.jsx)(Ue,a()({},n)):(0,d.jsx)(Te,a()({},n))},ke=Fe;function Ve(t){var n,o,r=t.rowIndex,u=t.record,s=t.rowHeight,c=t.editId,_=t.onEdit,i=_===void 0?function(){}:_,f=t.handleChange,O=f===void 0?function(){}:f,L=t.config,K=L===void 0?null:L,E=t.col,R=t.columnIndex,S=t.fixedInfo,re=u._rowIndex,B=E.dataIndex,z=E.align,_e=z===void 0?"left":z,xe=E.readonly,P=xe===void 0?!1:xe,ie=E.fixed,N=E.inputType,Q=E.permanentNode,he="".concat(R,"-").concat(B),ce="".concat(re,"-").concat(B),G=ce===c,q={height:s,boxShadow:G?"inset 0px 0px 0px 1px ".concat(g(K)):"",padding:G?" 0 8px":"0 12px"},X=function(){if(Array.isArray(B)){var A=u;return B.forEach(function(ee){A instanceof Object?A=A[ee]:A=null}),A}return u[B]};if(Q){var M=J(Q)?Q(X(),u):Q;return(0,d.jsx)("td",{id:ce,style:D({style:q,align:_e,fixed:ie,fixedInfo:S,columnIndex:R}),className:ae({className:"table-td-node",rowIndex:r,columnIndex:R,readonly:P,fixedInfo:S,fixed:ie}),children:M},he)}var ge=function(A){O(A,{rowIndex:re,dataIndex:B,record:u})},fe=G?(0,d.jsx)(ke,{config:K,initValue:X(),inputChange:ge,onEdit:i,column:E}):N===T.select?(n=w(E==null||(o=E.inputOptions)===null||o===void 0?void 0:o.selectData).find(function(Z){return Z.value===X()}))===null||n===void 0?void 0:n.label:ie?(0,d.jsx)("div",{className:"table-cell-overflow-hidden",children:X()}):X();return(0,d.jsx)("td",{id:ce,style:D({style:q,align:_e,fixed:ie,fixedInfo:S,columnIndex:R}),className:ae({className:"table-td",rowIndex:r,columnIndex:R,readonly:P,fixed:ie,fixedInfo:S}),title:X(),onClick:function(){return typeof i=="function"&&!P?i(ce):void 0},children:fe},he)}var ze=Ve;function Ye(t){var n=t.columns;return(0,d.jsx)("tr",{className:"table-tr",children:n.map(function(o,r){return ze(a()(a()({},t),{},{col:o,columnIndex:r}))})})}var Ge=Ye,Xe=["dataSource","notFoundContent"];function Ze(t){var n=t.dataSource,o=t.notFoundContent,r=we()(t,Xe),u=w(n).length===0;return u?o:(0,d.jsx)("tbody",{className:"table-tbody",children:w(n).map(function(s,c){return Ge(a()({rowIndex:c,record:s},r))})})}var Je=Ze,Qe=function(n,o){var r,u=o!=null?o:{},s=u.overscan,c=s===void 0?0:s,_=u.itemHeight,i=_===void 0?40:_,f=u.maxHeight,O=f===void 0?400:f,L=u.onScrolled,K=L===void 0?function(){}:L,E=u.wrapperPropsStyle,R=E===void 0?{}:E,S=(0,l.useRef)(null),re=(0,l.useState)(0),B=h()(re,2),z=B[0],_e=B[1],xe=(0,l.useState)(Math.ceil(O/i)),P=h()(xe,1),ie=P[0],N=(0,l.useState)({offsetWidth:0,clientWidth:0}),Q=h()(N,2),he=Q[0],ce=Q[1],G=z*i,q=(n==null?void 0:n.length)*i,X=function(A){var ee=A.target,U=ee.scrollTop,W=U===void 0?0:U,F=ee.scrollLeft,le=F===void 0?0:F;K({scrollLeft:le,scrollTop:W});var de=c>0?Math.floor(W/i)-Math.ceil(c/2):Math.floor(W/i);_e(de>0?de:0)},M={style:a()(a()({},R),{},{width:"100%",height:q,transform:"translateZ(0)",paddingTop:G})},ge={onScroll:X,ref:function(A){return S.current=A},style:{overflowY:"overlay",overflowX:"auto",maxHeight:O,overflow:"auto"}};(0,l.useEffect)(function(){if(S!=null&&S.current){var Z=new ResizeObserver(function(A){A.forEach(function(ee){var U=ee.target,W=U.offsetWidth,F=U.clientWidth;ce({offsetWidth:W,clientWidth:F})})});return Z.observe(S==null?void 0:S.current),function(){Z.disconnect()}}},[S==null?void 0:S.current]);var fe=n.slice(z,z+ie+c);return{list:fe,wrapperProps:M,containerProps:ge,topHeight:G,bottomHeight:q-G-((r=fe.length)!==null&&r!==void 0?r:0)*i,containerInfo:he,hasScrollY:!1}},qe=Qe,Re=(0,l.createContext)({topHeight:0});function Be(){return 16}var et=function(n){var o=n.columns,r=n.dataSource,u=n.editId,s=n.onEdit,c=s===void 0?function(){}:s,_=n.rowHeight,i=_===void 0?40:_,f=n.maxHeight,O=f===void 0?400:f,L=n.headerHeight,K=L===void 0?55:L,E=n.onChange,R=E===void 0?function(){}:E,S=n.hiddenHerder,re=S===void 0?!1:S,B=n.notFoundContent,z=B===void 0?null:B,_e=n.config,xe=_e===void 0?null:_e,P=(0,l.useRef)(null),ie=(0,l.useState)([]),N=h()(ie,2),Q=N[0],he=N[1],ce=(0,l.useState)([]),G=h()(ce,2),q=G[0],X=G[1],M=(0,l.useState)({autoWidthColIndex:null,autoColWidth:120}),ge=h()(M,2),fe=ge[0],Z=ge[1],A=(0,l.useState)({}),ee=h()(A,2),U=ee[0],W=ee[1],F=(0,l.useState)({left:{},right:{}}),le=h()(F,2),de=le[0],Oe=le[1],Pe={itemHeight:i,maxHeight:O,overscan:0,onScrolled:function(Se){var Me=Se.scrollLeft,je=Se.scrollTop;W({scrollLeft:Me,scrollTop:je}),P.current&&(P.current.scrollLeft=Me)},wrapperPropsStyle:{borderSpacing:0}},te=qe(Q,Pe),ye=te.list,be=te.wrapperProps,De=te.containerProps,Ie=te.bottomHeight,pe=te.containerInfo,nt=te.topHeight,Ne=te.hasScrollY,ot=function(Se,Me){var je=Me.rowIndex,Ae=Me.dataIndex,We=Q;Array.isArray(Ae)?Ae.reduceRight(function(He,$e,lt){return lt===0&&(We[je][$e]=He),y()({},$e,He)},Se):We[je][Ae]=Se,R(We,{rowIndex:je,dataIndex:Ae,value:Se,record:We[je]})};(0,l.useEffect)(function(){he(se(r))},[r.length]),(0,l.useEffect)(function(){X(o),Oe(V(o))},[o]),(0,l.useEffect)(function(){pe.clientWidth&&Z(H({columns:q,clientWidth:pe.clientWidth}))},[pe]);var at=re?null:(0,d.jsx)("div",{className:"wumu-table-header",ref:P,children:(0,d.jsxs)("table",{children:[Y({columns:q,autoCol:fe,scrollBar:Ne?Be():void 0}),ve({columns:q,headerHeight:K,containerInfo:a()(a()({},U),pe),fixedInfo:de,scrollBar:Ne?Be():void 0})]})}),rt={topHeight:nt},it=(0,l.useMemo)(function(){var Ee="wumu-table";return(U==null?void 0:U.scrollLeft)>0&&(Ee=Ee+" has-left-shadow"),Ee=Ee+" has-right-shadow",Ee},[U,pe,fe]);return(0,d.jsx)("div",{className:it,children:(0,d.jsxs)("div",a()(a()({className:"wumu-table-body"},De),{},{children:[at,(0,d.jsx)(Re.Provider,{value:rt,children:(0,d.jsxs)("table",a()(a()({},be),{},{children:[Y({columns:o,autoCol:fe}),Je({config:xe,dataSource:ye,columns:q,rowHeight:i,onEdit:c,editId:u,handleChange:ot,containerInfo:a()(a()({},U),pe),fixedInfo:de,notFoundContent:oe({containerInfo:a()(a()({},U),pe),children:z!=null?z:$()})}),(0,d.jsx)("div",{style:{height:Ie}})]}))})]}))})},tt=et},37868:function(){"use strict"},63405:function(v,I,e){var j=e(73897);function a(x){if(Array.isArray(x))return j(x)}v.exports=a,v.exports.__esModule=!0,v.exports.default=v.exports},79498:function(v){function I(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}v.exports=I,v.exports.__esModule=!0,v.exports.default=v.exports},42281:function(v){function I(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}v.exports=I,v.exports.__esModule=!0,v.exports.default=v.exports},70215:function(v,I,e){var j=e(7071);function a(x,y){if(x==null)return{};var b=j(x,y),h,l;if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(x);for(l=0;l<p.length;l++)h=p[l],!(y.indexOf(h)>=0)&&Object.prototype.propertyIsEnumerable.call(x,h)&&(b[h]=x[h])}return b}v.exports=a,v.exports.__esModule=!0,v.exports.default=v.exports},7071:function(v){function I(e,j){if(e==null)return{};var a={},x=Object.keys(e),y,b;for(b=0;b<x.length;b++)y=x[b],!(j.indexOf(y)>=0)&&(a[y]=e[y]);return a}v.exports=I,v.exports.__esModule=!0,v.exports.default=v.exports},861:function(v,I,e){var j=e(63405),a=e(79498),x=e(86116),y=e(42281);function b(h){return j(h)||a(h)||x(h)||y()}v.exports=b,v.exports.__esModule=!0,v.exports.default=v.exports}}]);
