(self.webpackChunkwumu_edit_table=self.webpackChunkwumu_edit_table||[]).push([[433],{44570:function(f,x,e){"use strict";e.d(x,{W:function(){return o},y:function(){return D}});var D=[{title:"\u59D3\u540D",dataIndex:"name"},{title:"\u804C\u4E1A",dataIndex:"job"},{title:"\u5E74\u9F84",dataIndex:"age"},{title:"\u5BB6\u5EAD\u5730\u5740",dataIndex:"address"},{title:"\u5907\u6CE8",dataIndex:"remark"}],o=[{remark:"\u70B9\u51FB\u4EFB\u610F\u5355\u5143\u683C\u8FDB\u884C\u7F16\u8F91"},{name:"\u68EE\u6797",job:"\u5207\u56FE\u5D3D",age:"26",address:"\u56DB\u5DDD",remark:"\u60F3\u5199\u4E00\u4E2A\u7B80\u5355\u7684\u76F4\u63A5\u4E0A\u624B\u7684\u53EF\u7F16\u8F91\u8868\u683C"},{name:"\u5C0F\u82B1",job:"\u4F1A\u8BA1",age:"\u4FDD\u5BC6",address:"",remark:"\u5E73\u65F6\u5C31\u662F\u505A\u505A\u8D26\uFF0C\u62A5\u62A5\u7A0E\uFF0C\u4ED8\u4ED8\u6B3E\u800C\u5DF2\uFF0C\u4E00\u4E2A\u6708\u6709\u534A\u4E2A\u6708\u5728\u73A9"},{name:"\u5927\u78CA",job:"\u7535\u7ADE\u5DE5\u4F5C\u8005",age:"",address:"\u5BB6",remark:""}]},28032:function(f,x,e){"use strict";e.r(x);var D=e(42122),o=e.n(D),g=e(27424),_=e.n(g),I=e(67294),h=e(65210),i=e(37868),C=e(85893);x.default=function(){var $=(0,I.useState)(""),T=_()($,2),G=T[0],V=T[1],X=[{verison:"0.0.1",log:"init project",remark:"\u{1F44A}based on dumi v2",user:{name:"xiaohua",age:18}},{verison:"0.0.2",log:"add header Render"},{verison:"0.0.3",log:"feat style"},{verison:"\u{1F4A5}0.1.0",log:"add changeHandle",remark:"\u57FA\u7840\u529F\u80FD\u5DF2\u7ECF\u53EF\u7528"},{verison:"0.1.2",log:"add api docs",remark:"\u2728\u65B0\u589Eapi\u6587\u6863"},{verison:"\u{1F38A}0.1.3",log:"add github pages",remark:"\u5730\u5740: https://wumusenlin.github.io/wumu-edit-table/components/edit-table"}],Z=(0,I.useState)(X.map(function(S,E){return o()(o()({},S),{},{index:E})})),c=_()(Z,2),k=c[0],R=c[1],K=[{title:"\u5E8F\u53F7",dataIndex:"index",width:60,align:"center",fixed:"left"},{title:"\u7248\u672C\u53F7",dataIndex:"verison",width:120,fixed:"left"},{title:"\u66F4\u65B0\u65E5\u5FD7",dataIndex:"log",align:"right",width:300,inputOptions:{placeholder:"\u8BF7\u8F93\u5165\u66F4\u65B0\u65E5\u5FD7"}},{title:"\u7248\u672C\u5907\u6CE8",dataIndex:"remark",width:400},{title:"\u66F4\u65B0\u4EBA-\u59D3\u540D",dataIndex:["user","name"],width:120},{title:"\u66F4\u65B0\u4EBA-\u5E74\u7EAA",width:120,dataIndex:["user","age"]},{title:"\u64CD\u4F5C",width:120,dataIndex:"options",fixed:"right",align:"center",permanentNode:function(E,p){return(0,C.jsx)("a",{onClick:function(){console.log(p),R(function(me){return me.slice(0,-1)})},children:"\u5220\u9664"})}}],ee=function(){R(function(E){return E.concat([{}])})},z=function(){R(function(E){return E.slice(0,-1)})},te=function(){R([])},_e=function(E,p){console.log("options",p),R(E)};return(0,C.jsxs)("div",{className:"wumu-demo",children:[(0,C.jsxs)("div",{className:"wumu-demo-wrap",style:{display:"flex",marginBottom:"16px"},children:[(0,C.jsx)("button",{onClick:ee,type:"button",className:"wumu-demo-button",children:"\u65B0\u589E\u884C\u5230\u6700\u540E"}),(0,C.jsx)("button",{onClick:z,type:"button",className:"wumu-demo-button",children:"\u5220\u9664\u6700\u540E\u884C"}),(0,C.jsx)("button",{onClick:te,type:"button",className:"wumu-demo-button",children:"\u5168\u90E8\u5220\u9664"})]}),(0,C.jsx)(h.O,{editId:G,onEdit:V,columns:K,dataSource:k,onChange:_e})]})}},38602:function(f,x,e){"use strict";e.r(x);var D=e(27424),o=e.n(D),g=e(67294),_=e(65210),I=e(37868),h=e(44570),i=e(85893);x.default=function(){var C=(0,g.useState)(""),$=o()(C,2),T=$[0],G=$[1],V=(0,g.useState)(h.W),X=o()(V,2),Z=X[0],c=X[1],k=(0,g.useState)(h.y),R=o()(k,1),K=R[0],ee=function(){c(function(E){return E.concat([{}])})},z=function(){c(function(E){return E.slice(0,-1)})},te=function(){c([])},_e=function(E,p){console.log("options",p),c(E)};return(0,i.jsxs)("div",{className:"wumu-demo",children:[(0,i.jsxs)("div",{className:"wumu-demo-wrap",style:{display:"flex",marginBottom:"16px"},children:[(0,i.jsx)("button",{onClick:ee,type:"button",className:"wumu-demo-button",children:"\u65B0\u589E\u884C\u5230\u6700\u540E"}),(0,i.jsx)("button",{onClick:z,type:"button",className:"wumu-demo-button",children:"\u5220\u9664\u6700\u540E\u884C"}),(0,i.jsx)("button",{onClick:te,type:"button",className:"wumu-demo-button",children:"\u5168\u90E8\u5220\u9664"})]}),(0,i.jsx)(_.O,{editId:T,onEdit:G,columns:K,dataSource:Z,onChange:_e})]})}},89253:function(f,x,e){"use strict";e.r(x);var D=e(27424),o=e.n(D),g=e(67294),_=e(65210),I=e(37868),h=e(85893);x.default=function(){var i=(0,g.useState)(""),C=o()(i,2),$=C[0],T=C[1],G=(0,g.useState)([{A:"A1",B:"B1",C:"C1",F:"F1"},{A:"A2",E:"B2",C:"C2",D:"D2"}]),V=o()(G,2),X=V[0],Z=V[1],c=[{title:"A",dataIndex:"A",width:200,align:"center"},{title:"B",dataIndex:"B",width:200,align:"center"},{title:"C",dataIndex:"C",width:200,align:"center"},{title:"D",dataIndex:"D",width:200,align:"center"},{title:"E",dataIndex:"E",width:200,align:"center"}],k=function(K,ee){console.log("options",ee),Z(K)};return(0,h.jsx)("div",{className:"wumu-demo",children:(0,h.jsx)(_.O,{editId:$,onEdit:T,columns:c,dataSource:X,onChange:k,headerDraggable:!0,headerBackground:"#e5f6fc"})})}},76648:function(f,x,e){"use strict";e.r(x);var D=e(42122),o=e.n(D),g=e(27424),_=e.n(g),I=e(67294),h=e(65210),i=e(85893);x.default=function(){var C=(0,I.useState)(""),$=_()(C,2),T=$[0],G=$[1],V=[{value:1,label:"v0.0.1"},{value:2,label:"v0.1.0"},{value:3,label:"v0.1.2"},{value:4,label:"v0.1.3"}],X=[{id:1,version:"0.0.1",log:"init project",remark:"\u{1F44A}based on dumi v2"},{id:2,version:"0.0.2",log:"add header Render"},{id:3,version:"0.0.3",log:"feat style"},{id:4,version:"\u{1F4A5}0.1.0",log:"add changeHandle",remark:"\u57FA\u7840\u529F\u80FD\u5DF2\u7ECF\u53EF\u7528"},{id:5,version:"0.1.2",log:"add api docs",remark:"\u2728\u65B0\u589Eapi\u6587\u6863"},{id:6,version:"\u{1F38A}0.1.3",log:"add github pages",remark:"\u5730\u5740: https://wumusenlin.github.io/wumu-edit-table/components/edit-table"}],Z=[{versionId:1,version:"0.0.1",log:"init project",remark:"\u{1F44A}based on dumi v2"},{versionId:4,version:"\u{1F4A5}0.1.0",log:"add changeHandle",remark:"\u57FA\u7840\u529F\u80FD\u5DF2\u7ECF\u53EF\u7528"},{versionId:2,version:"0.0.2",log:"add header Render"}],c=(0,I.useState)(Z.map(function(S,E){return o()(o()({},S),{},{index:E})})),k=_()(c,2),R=k[0],K=k[1],ee=function(E){var p=E._rowIndex+1;K(function(y){return y.slice(0,p).concat([{}]).concat(y.slice(p))})},z=function(E){var p=E._rowIndex;K(function(y){return p<0?y:y.slice(0,p).concat(y.slice(p+1))})},te=[{title:"\u64CD\u4F5C",dataIndex:"add",width:60,align:"center",fixed:"left",permanentNode:function(E,p){return(0,i.jsx)("a",{title:"\u65B0\u589E\u5230\u4E0B\u4E00\u884C",style:{cursor:"pointer",color:"green"},onClick:function(){return ee(p)},children:"\u2795"})}},{title:"\u9009\u62E9\u7248\u672C\u53F7",dataIndex:"versionId",width:200,inputType:"select",inputOptions:{selectData:V}},{title:"\u7248\u672C\u53F7",dataIndex:"version",width:300},{title:"\u66F4\u65B0\u65E5\u5FD7",dataIndex:"log",align:"right",width:300},{title:"\u5907\u6CE8",dataIndex:"remark"},{title:"\u64CD\u4F5C",dataIndex:"remove",width:80,align:"center",fixed:"right",permanentNode:function(E,p){return(0,i.jsx)("a",{title:"\u5220\u9664\u5F53\u524D\u884C",style:{cursor:"pointer",color:"green"},onClick:function(){return z(p)},children:"\u274C"})}}],_e=function(E,p){var y;console.log("options",p);var me=p.value,ge=p.rowIndex,Te=(y=X.find(function(ye){return ye.id===me}))!==null&&y!==void 0?y:{};E[ge]=o()(o()({},E[ge]),Te),K(E)};return(0,i.jsx)(h.O,{editId:T,onEdit:G,columns:te,dataSource:R,onChange:_e,config:{color:{primaryColor:"#3ca8f9"}}})}},84105:function(f,x,e){"use strict";e.r(x);var D=e(42122),o=e.n(D),g=e(27424),_=e.n(g),I=e(67294),h=e(65210),i=e(37868),C=e(85893);x.default=function(){var $=(0,I.useState)(""),T=_()($,2),G=T[0],V=T[1],X=[{value:1,label:"v0.0.1"},{value:2,label:"v0.1.0"},{value:3,label:"v0.1.2"},{value:4,label:"v0.1.3"}],Z=[{id:1,verison:"0.0.1",log:"init project",remark:"\u{1F44A}based on dumi v2"},{id:2,verison:"0.0.2",log:"add header Render"},{id:3,verison:"0.0.3",log:"feat style"},{id:4,verison:"\u{1F4A5}0.1.0",log:"add changeHandle",remark:"\u57FA\u7840\u529F\u80FD\u5DF2\u7ECF\u53EF\u7528"},{id:5,verison:"0.1.2",log:"add api docs",remark:"\u2728\u65B0\u589Eapi\u6587\u6863"},{id:6,verison:"\u{1F38A}0.1.3",log:"add github pages",remark:"\u5730\u5740: https://wumusenlin.github.io/wumu-edit-table/components/edit-table"}],c=[{title:"\u5E8F\u53F7",dataIndex:"index",width:60,align:"center",fixed:"left"},{title:"\u9009\u62E9\u7248\u672C\u53F7",dataIndex:"select",width:200,inputType:"select",inputOptions:{selectData:X}},{title:"\u7248\u672C\u53F7",dataIndex:"verison",width:300},{title:"\u66F4\u65B0\u65E5\u5FD7",dataIndex:"log",align:"right",width:300},{title:"\u5907\u6CE8",dataIndex:"remark"}],k=[{}],R=(0,I.useState)(k.map(function(p,y){return o()(o()({},p),{},{index:y})})),K=_()(R,2),ee=K[0],z=K[1],te=function(){z(function(y){return y.concat([{}])})},_e=function(){z(function(y){return y.slice(0,-1)})},S=function(){z([])},E=function(y,me){var ge;console.log("options",me);var Te=me.value,ye=me.rowIndex,Le=(ge=Z.find(function(Be){return Be.id===Te}))!==null&&ge!==void 0?ge:{};y[ye]=o()(o()({},y[ye]),Le),z(y)};return(0,C.jsxs)("div",{className:"wumu-demo",children:[(0,C.jsxs)("div",{className:"wumu-demo-wrap",style:{display:"flex",marginBottom:"16px"},children:[(0,C.jsx)("button",{onClick:te,type:"button",className:"wumu-demo-button",children:"\u65B0\u589E\u884C\u5230\u6700\u540E"}),(0,C.jsx)("button",{onClick:_e,type:"button",className:"wumu-demo-button",children:"\u5220\u9664\u6700\u540E\u884C"}),(0,C.jsx)("button",{onClick:S,type:"button",className:"wumu-demo-button",children:"\u5168\u90E8\u5220\u9664"})]}),(0,C.jsx)(h.O,{editId:G,onEdit:V,columns:c,dataSource:ee,onChange:E})]})}},18266:function(f,x,e){"use strict";e.r(x);var D=e(27424),o=e.n(D),g=e(67294),_=e(65210),I=e(44570),h=e(85893);x.default=function(){var i=(0,g.useState)(""),C=o()(i,2),$=C[0],T=C[1],G=(0,g.useState)(I.W),V=o()(G,2),X=V[0],Z=V[1],c=(0,g.useState)(I.y),k=o()(c,1),R=k[0],K=function(z,te){console.log("options",te),Z(z)};return(0,h.jsx)(_.O,{editId:$,onEdit:T,columns:R,dataSource:X,onChange:K})}},65210:function(f,x,e){"use strict";e.d(x,{O:function(){return ut}});var D=e(42122),o=e.n(D),g=e(38416),_=e.n(g),I=e(27424),h=e.n(I),i=e(67294),C=e(861),$=e.n(C);function T(t){return Array.isArray(t)?t:[]}function G(t){return t!=null&&t!==""}function V(t){return!G(t)}function X(t){return Array.isArray(t)&&t.length>0}var Z=function(n){return typeof n=="function"},c=e(85893),k={text:"text",select:"select"};function R(t){var n=t.columns,r=t.autoCol,u=t.scrollBar,a=r.autoWidthColIndex,s=r.autoColWidth,l=u?n.concat([{width:u,dataIndex:"_innerScrollBar",title:""}]):n;return(0,c.jsx)("colgroup",{children:l.map(function(m,d){var v=m.width,j="col-".concat(d);return a===d?(0,c.jsx)("col",{style:{width:s!=null?s:120}},j):(0,c.jsx)("col",{style:{width:v!=null?v:120}},j)})})}function K(t){var n=t.columns,r=t.clientWidth,u=r===void 0?0:r,a=null;n.forEach(function(l,m){var d=l.fixed;d!=="right"&&(a=m)});var s=u-n.reduce(function(l,m,d){var v;return l+(d===a?0:(v=m.width)!==null&&v!==void 0?v:120)},0);return{autoWidthColIndex:a,autoColWidth:s<120?120:s}}function ee(t){var n=0,r=0,u={},a={},s=T(t).length;return T(t).reverse().forEach(function(l,m){var d=l.width,v=d===void 0?120:d,j=l.fixed;j==="right"&&(a[s-m-1]=r,r+=v)}),T(t).reverse().forEach(function(l,m){var d=l.width,v=l.fixed;v==="left"&&(u[m]=n,n+=d)}),{left:u,right:a}}function z(t){return t.map(function(n,r){return o()(o()({},n),{},{_rowIndex:r,rowIndex:r})})}function te(){return(0,c.jsx)("div",{className:"wumu-default-not-found-content",children:"\u6682\u65E0\u6570\u636E~"})}function _e(t){var n=t.containerInfo,r=t.children,u=r===void 0?te():r,a={width:n.offsetWidth,marginLeft:n.scrollLeft};return(0,c.jsx)("div",{children:(0,c.jsx)("div",{style:a,children:u})})}function S(t){var n=t.className,r=t.rowIndex,u=t.columnIndex,a=t.readonly,s=t.fixed,l=t.fixedClassName,m=l===void 0?"table-fixed-td":l,d=t.fixedInfo,v=n;return r===0&&(v+=" table-first-tr"),u===0&&(v+=" table-first-td"),a&&(v+=" table-td-readonly"),s&&(s==="left"&&d?u===Math.max.apply(Math,$()(Object.keys(d==null?void 0:d.left)))&&(v+=" fixed-left-shadow"):s==="right"&&d&&u===Math.min.apply(Math,$()(Object.keys(d==null?void 0:d.right)))&&(v+=" fixed-right-shadow"),v+=" ".concat(m)),v}function E(t){var n=t.style,r=t.fixed,u=t.align,a=t.fixedInfo,s=t.columnIndex,l=t.defaultRightWidth,m=l===void 0?0:l;return u&&(n.textAlign=u),r&&(n.position="sticky",n.zIndex=1,r==="left"?n.left=a.left[s]:r==="right"&&(n.right=a.right[s]+m)),n}function p(t,n){var r=String(t).replace(/[^0-9a-f]/gi,"");r.length<6&&(r=r[0]+r[0]+r[1]+r[1]+r[2]+r[2]);var u=n||0,a="#",s,l;for(l=0;l<3;l++)s=parseInt(r.substr(l*2,2),16),s=Math.round(Math.min(Math.max(0,s+s*u),255)).toString(16),a+=("00"+s).substring(s.length);return a}function y(t,n){var r,u=t==null||(r=t.color)===null||r===void 0?void 0:r.primaryColor;return n?p(u||"#1da57a",n):"".concat(u!=null?u:"var(--primary-color)")}function me(t){var n=t.columns,r=t.headerHeight,u=t.headerBackground,a=u===void 0?"var(--table-header-bg)":u,s=t.fixedInfo,l=t.scrollBar,m=t.trId,d=t.headerDraggable,v=n.map(function(O,W){var b=O.title,P=O.dataIndex,w=O.align,ne=w===void 0?"left":w,L=O.fixed,Y=O.readonly,le={textAlign:ne},ae="".concat(P,"-").concat(W),M=L?(0,c.jsx)("div",{className:"table-cell-overflow-hidden",children:b}):b;return(0,c.jsx)("th",{title:b,className:S({className:"table-th",readonly:Y,fixed:L,fixedInfo:s,fixedClassName:"table-fixed-th",columnIndex:W}),"data-index":P.toString(),style:E({style:le,align:ne,fixed:L,fixedInfo:s,columnIndex:W,defaultRightWidth:l}),draggable:d,children:M},ae)}),j={height:r,background:a};return(0,c.jsx)("thead",{children:(0,c.jsx)("tr",{style:j,className:"table-header",id:m,children:v})})}var ge=me,Te=e(70215),ye=e.n(Te),Le=function(n){var r=n.initValue,u=n.inputChange,a=u===void 0?function(){}:u,s=n.onEdit,l=s===void 0?function(){}:s,m=n.column,d=m.align,v=d===void 0?"left":d,j=m.inputOptions,O=j===void 0?{}:j,W={textAlign:v};return(0,c.jsx)("input",o()({className:"wumu-input",style:W,defaultValue:r,onChange:function(P){a(P.target.value)},autoFocus:!0,onBlur:function(){return l("")}},O))},Be=Le,Fe=e(73935),ke=function(n){var r,u,a,s=(0,i.useRef)({current:{inited:!1}}),l=(0,i.useContext)(Ne),m=l.topHeight,d=n.initValue,v=n.inputChange,j=v===void 0?function(){}:v,O=n.onEdit,W=O===void 0?function(){}:O,b=n.column,P=n.config,w=P===void 0?null:P,ne=b.align,L=ne===void 0?"left":ne,Y=b.inputOptions,le=b.dataIndex,ae=Y!=null?Y:{},M=ae.selectData,de=(r=(u=T(M).find(function(H){return H.value===d}))===null||u===void 0?void 0:u.label)!==null&&r!==void 0?r:d,U=(0,i.useRef)(null),J=(0,i.useState)(!0),ue=h()(J,2),ce=ue[0],re=ue[1],fe=(0,i.useState)({}),Q=h()(fe,2),A=Q[0],xe=Q[1],Ee={textAlign:L},q={position:"absolute",zIndex:"10",width:((a=A==null?void 0:A.clientWidth)!==null&&a!==void 0?a:120)+16,left:(A==null?void 0:A.left)-16,top:(A==null?void 0:A.top)+(A==null?void 0:A.clientHeight)+3-m},B=(0,i.useMemo)(function(){if((M==null?void 0:M.length)===0)return(0,c.jsx)("div",{className:"wumu-dropdown-notfount",children:"\u6682\u65E0\u6570\u636E ~"});var H=T(M).map(function(F,oe){var ve=F.value,je=F.label,Se="".concat(oe,"-").concat(ve),ie=ve===d,Oe="".concat(ie?"wumu-dropDown-selected-item":""," wumu-dropdown-item"),Pe=ie?{backgroundColor:"".concat(y(w,.3))}:{};return(0,c.jsx)("div",{style:Pe,className:Oe,onClick:function(Ie){Ie.stopPropagation(),j(ve),W(""),re(!1)},children:je},Se)});return(0,c.jsx)(c.Fragment,{children:H})},[M==null?void 0:M.length]),N=function(){s.current.inited?(re(!1),W("")):s.current.inited=!0};(0,i.useEffect)(function(){if(U!=null&&U.current){for(var H,F=U.current,oe=(H=U.current)!==null&&H!==void 0?H:{},ve=oe.clientWidth,je=oe.clientHeight,Se=oe.offsetTop,ie=oe.offsetLeft,Oe=Se,Pe=ie;(pe=F)!==null&&pe!==void 0&&pe.offsetParent;){var pe,Ie;Oe+=F.offsetTop,Pe+=F.offsetLeft,F=(Ie=F)===null||Ie===void 0?void 0:Ie.offsetParent}xe({clientWidth:ve,clientHeight:je,top:Oe,left:Pe})}},[U==null?void 0:U.current]),(0,i.useEffect)(function(){return document.addEventListener("click",N),function(){return document.removeEventListener("click",N)}},[]);var se=ce?(0,Fe.createPortal)((0,c.jsx)("div",{className:"wumu-input-dropdown",style:q,children:B}),document.body):null;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{ref:U,className:"wumu-input",autoFocus:!0,name:le,style:Ee,onBlur:function(){return W("")},children:de}),se]})},Ve=ke,ze=function(n){var r=n.column,u=r.inputType;return u===k.select?(0,c.jsx)(Ve,o()({},n)):(0,c.jsx)(Be,o()({},n))},Ye=ze;function Ge(t){var n,r,u=t.rowIndex,a=t.record,s=t.rowHeight,l=t.editId,m=t.onEdit,d=m===void 0?function(){}:m,v=t.handleChange,j=v===void 0?function(){}:v,O=t.config,W=O===void 0?null:O,b=t.col,P=t.columnIndex,w=t.fixedInfo,ne=a._rowIndex,L=b.dataIndex,Y=b.align,le=Y===void 0?"left":Y,ae=b.readonly,M=ae===void 0?!1:ae,de=b.fixed,U=b.inputType,J=b.permanentNode,ue="".concat(P,"-").concat(L),ce="".concat(ne,"-").concat(L),re=ce===l,fe={height:s,boxShadow:re?"inset 0px 0px 0px 1px ".concat(y(W)):"",padding:re?" 0 8px":"0 12px"},Q=function(){if(Array.isArray(L)){var B=a;return L.forEach(function(N){B instanceof Object?B=B[N]:B=null}),B}return a[L]};if(J){var A=Z(J)?J(Q(),a):J;return(0,c.jsx)("td",{id:ce,style:E({style:fe,align:le,fixed:de,fixedInfo:w,columnIndex:P}),className:S({className:"table-td-node",rowIndex:u,columnIndex:P,readonly:M,fixedInfo:w,fixed:de}),children:A},ue)}var xe=function(B){j(B,{rowIndex:ne,dataIndex:L,record:a})},Ee=re?(0,c.jsx)(Ye,{config:W,initValue:Q(),inputChange:xe,onEdit:d,column:b}):U===k.select?(n=T(b==null||(r=b.inputOptions)===null||r===void 0?void 0:r.selectData).find(function(q){return q.value===Q()}))===null||n===void 0?void 0:n.label:de?(0,c.jsx)("div",{className:"table-cell-overflow-hidden",children:Q()}):Q();return(0,c.jsx)("td",{id:ce,style:E({style:fe,align:le,fixed:de,fixedInfo:w,columnIndex:P}),className:S({className:"table-td",rowIndex:u,columnIndex:P,readonly:M,fixed:de,fixedInfo:w}),title:Q(),onClick:function(){return typeof d=="function"&&!M?d(ce):void 0},children:Ee},ue)}var Xe=Ge;function Ze(t){var n=t.columns;return(0,c.jsx)("tr",{className:"table-tr",children:n.map(function(r,u){return Xe(o()(o()({},t),{},{col:r,columnIndex:u}))})})}var Je=Ze,Qe=["dataSource","notFoundContent"];function qe(t){var n=t.dataSource,r=t.notFoundContent,u=ye()(t,Qe),a=T(n).length===0;return a?r:(0,c.jsx)("tbody",{className:"table-tbody",children:T(n).map(function(s,l){return Je(o()({rowIndex:l,record:s},u))})})}var et=qe,tt=e(56690),nt=e.n(tt),at=e(89728),rt=e.n(at),ot=function(){function t(n,r,u){var a=this;nt()(this,t),_()(this,"elementTr",void 0),_()(this,"columns",void 0),_()(this,"setColumns",void 0),_()(this,"currentTh",null),_()(this,"handleDragStart",function(s){var l=s.target;if(l.tagName==="TH"){var m=l.getAttribute("data-index"),d=a.columns.find(function(v){return v.dataIndex===m});if(d&&(d.fixed==="left"||d.fixed==="right")){s.preventDefault();return}s.dataTransfer.effectAllowed="move",a.currentTh=l,a.currentTh.style.border="1px solid var(--primary-color)",setTimeout(function(){var v;return(v=a.currentTh)===null||v===void 0?void 0:v.classList.add("wumu-drag-moving")},0)}}),_()(this,"handleDragEnter",function(s){s.preventDefault();var l=s.target;if(!(l===a.currentTh||l===a.elementTr)){var m=l.getAttribute("data-index"),d=a.columns.find(function(P){return P.dataIndex===m});if(!(d&&(d.fixed==="left"||d.fixed==="right"))){var v=Array.from(a.elementTr.childNodes),j=v.indexOf(a.currentTh),O=v.indexOf(l),W=a.columns.filter(function(P){return P.fixed==="left"}),b=a.columns.filter(function(P){return P.fixed==="right"});O<W.length||O>=a.columns.length-b.length||(j<O?a.elementTr.insertBefore(a.currentTh,l.nextElementSibling):a.elementTr.insertBefore(a.currentTh,l))}}}),_()(this,"handleDragOver",function(s){s.preventDefault()}),_()(this,"handleDragEnd",function(){if(a.currentTh){var s=Array.from(a.elementTr.children).map(function(l){return l.getAttribute("data-index")});a.setColumns(function(l){return s.map(function(m){return l.find(function(d){return d.dataIndex===m})})}),a.currentTh.classList.remove("wumu-drag-moving"),a.currentTh.style.border="",a.currentTh=null}}),this.elementTr=n,this.columns=r,this.setColumns=u,this.elementTr.addEventListener("dragstart",this.handleDragStart),this.elementTr.addEventListener("dragenter",this.handleDragEnter),this.elementTr.addEventListener("dragover",this.handleDragOver),this.elementTr.addEventListener("dragend",this.handleDragEnd)}return rt()(t,[{key:"destroy",value:function(){this.elementTr.removeEventListener("dragstart",this.handleDragStart),this.elementTr.removeEventListener("dragenter",this.handleDragEnter),this.elementTr.removeEventListener("dragover",this.handleDragOver),this.elementTr.removeEventListener("dragend",this.handleDragEnd)}}]),t}(),it=function(n,r){var u,a=r!=null?r:{},s=a.overscan,l=s===void 0?0:s,m=a.itemHeight,d=m===void 0?40:m,v=a.maxHeight,j=v===void 0?400:v,O=a.onScrolled,W=O===void 0?function(){}:O,b=a.wrapperPropsStyle,P=b===void 0?{}:b,w=(0,i.useRef)(null),ne=(0,i.useState)(0),L=h()(ne,2),Y=L[0],le=L[1],ae=(0,i.useState)(Math.ceil(j/d)),M=h()(ae,1),de=M[0],U=(0,i.useState)({offsetWidth:0,clientWidth:0}),J=h()(U,2),ue=J[0],ce=J[1],re=Y*d,fe=(n==null?void 0:n.length)*d,Q=function(B){var N=B.target,se=N.scrollTop,H=se===void 0?0:se,F=N.scrollLeft,oe=F===void 0?0:F;W({scrollLeft:oe,scrollTop:H});var ve=l>0?Math.floor(H/d)-Math.ceil(l/2):Math.floor(H/d);le(ve>0?ve:0)},A={style:o()(o()({},P),{},{width:"100%",height:fe,transform:"translateZ(0)",paddingTop:re})},xe={onScroll:Q,ref:function(B){return w.current=B},style:{overflowY:"overlay",overflowX:"auto",maxHeight:j,overflow:"auto"}};(0,i.useEffect)(function(){if(w!=null&&w.current){var q=new ResizeObserver(function(B){B.forEach(function(N){var se=N.target,H=se.offsetWidth,F=se.clientWidth;ce({offsetWidth:H,clientWidth:F})})});return q.observe(w==null?void 0:w.current),function(){q.disconnect()}}},[w==null?void 0:w.current]);var Ee=n.slice(Y,Y+de+l);return{list:Ee,wrapperProps:A,containerProps:xe,topHeight:re,bottomHeight:fe-re-((u=Ee.length)!==null&&u!==void 0?u:0)*d,containerInfo:ue,hasScrollY:!1}},lt=it,Ne=(0,i.createContext)({topHeight:0});function He(){return 16}var dt=function(n){var r=n.columns,u=n.dataSource,a=n.editId,s=n.onEdit,l=s===void 0?function(){}:s,m=n.rowHeight,d=m===void 0?40:m,v=n.maxHeight,j=v===void 0?400:v,O=n.headerHeight,W=O===void 0?55:O,b=n.headerBackground,P=b===void 0?"var(--table-header-bg)":b,w=n.onChange,ne=w===void 0?function(){}:w,L=n.hiddenHerder,Y=L===void 0?!1:L,le=n.notFoundContent,ae=le===void 0?null:le,M=n.config,de=M===void 0?null:M,U=n.headerDraggable,J=U===void 0?!1:U,ue=(0,i.useRef)(null),ce=(0,i.useState)(Date.now()),re=h()(ce,1),fe=re[0],Q=(0,i.useState)([]),A=h()(Q,2),xe=A[0],Ee=A[1],q=(0,i.useState)([]),B=h()(q,2),N=B[0],se=B[1],H=(0,i.useState)({autoWidthColIndex:null,autoColWidth:120}),F=h()(H,2),oe=F[0],ve=F[1],je=(0,i.useState)({}),Se=h()(je,2),ie=Se[0],Oe=Se[1],Pe=(0,i.useState)({left:{},right:{}}),pe=h()(Pe,2),Ie=pe[0],st=pe[1],Re=(0,i.useMemo)(function(){return"#table-header".concat(fe)},[fe]),ct={itemHeight:d,maxHeight:j,overscan:0,onScrolled:function(Ce){var Me=Ce.scrollLeft,we=Ce.scrollTop;Oe({scrollLeft:Me,scrollTop:we}),ue.current&&(ue.current.scrollLeft=Me)},wrapperPropsStyle:{borderSpacing:0}},be=lt(xe,ct),ft=be.list,vt=be.wrapperProps,ht=be.containerProps,_t=be.bottomHeight,De=be.containerInfo,mt=be.topHeight,$e=be.hasScrollY,gt=function(Ce,Me){var we=Me.rowIndex,Ae=Me.dataIndex,We=xe;Array.isArray(Ae)?Ae.reduceRight(function(Ke,Ue,Ct){return Ct===0&&(We[we][Ue]=Ke),_()({},Ue,Ke)},Ce):We[we][Ae]=Ce,ne(We,{rowIndex:we,dataIndex:Ae,value:Ce,record:We[we]})};(0,i.useEffect)(function(){Ee(z(u))},[u.length]),(0,i.useEffect)(function(){se(r),st(ee(r))},[r]),(0,i.useEffect)(function(){De.clientWidth&&ve(K({columns:N,clientWidth:De.clientWidth}))},[De]),(0,i.useEffect)(function(){if(J){var he=document.getElementById(Re);if(he){console.log("dragManager\u521D\u59CB\u5316");var Ce=new ot(he,N,se);return function(){Ce.destroy()}}}},[J,Re,se,N]);var xt=Y?null:(0,c.jsx)("div",{className:"wumu-table-header",ref:ue,children:(0,c.jsxs)("table",{children:[R({columns:N,autoCol:oe,scrollBar:$e?He():void 0}),ge({columns:N,headerHeight:W,headerBackground:P,containerInfo:o()(o()({},ie),De),fixedInfo:Ie,scrollBar:$e?He():void 0,headerDraggable:J,trId:Re})]})}),Et={topHeight:mt},It=(0,i.useMemo)(function(){var he="wumu-table";return(ie==null?void 0:ie.scrollLeft)>0&&(he=he+" has-left-shadow"),he=he+" has-right-shadow",he},[ie,De,oe]);return(0,c.jsx)("div",{className:It,children:(0,c.jsxs)("div",o()(o()({className:"wumu-table-body"},ht),{},{children:[xt,(0,c.jsx)(Ne.Provider,{value:Et,children:(0,c.jsxs)("table",o()(o()({},vt),{},{children:[R({columns:N,autoCol:oe}),et({config:de,dataSource:ft,columns:N,rowHeight:d,onEdit:l,editId:a,handleChange:gt,containerInfo:o()(o()({},ie),De),fixedInfo:Ie,notFoundContent:_e({containerInfo:o()(o()({},ie),De),children:ae!=null?ae:te()})}),(0,c.jsx)("div",{style:{height:_t}})]}))})]}))})},ut=dt},37868:function(){"use strict"},63405:function(f,x,e){var D=e(73897);function o(g){if(Array.isArray(g))return D(g)}f.exports=o,f.exports.__esModule=!0,f.exports.default=f.exports},56690:function(f){function x(e,D){if(!(e instanceof D))throw new TypeError("Cannot call a class as a function")}f.exports=x,f.exports.__esModule=!0,f.exports.default=f.exports},89728:function(f,x,e){var D=e(64062);function o(_,I){for(var h=0;h<I.length;h++){var i=I[h];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(_,D(i.key),i)}}function g(_,I,h){return I&&o(_.prototype,I),h&&o(_,h),Object.defineProperty(_,"prototype",{writable:!1}),_}f.exports=g,f.exports.__esModule=!0,f.exports.default=f.exports},79498:function(f){function x(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}f.exports=x,f.exports.__esModule=!0,f.exports.default=f.exports},42281:function(f){function x(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}f.exports=x,f.exports.__esModule=!0,f.exports.default=f.exports},70215:function(f,x,e){var D=e(7071);function o(g,_){if(g==null)return{};var I=D(g,_),h,i;if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(g);for(i=0;i<C.length;i++)h=C[i],!(_.indexOf(h)>=0)&&Object.prototype.propertyIsEnumerable.call(g,h)&&(I[h]=g[h])}return I}f.exports=o,f.exports.__esModule=!0,f.exports.default=f.exports},7071:function(f){function x(e,D){if(e==null)return{};var o={},g=Object.keys(e),_,I;for(I=0;I<g.length;I++)_=g[I],!(D.indexOf(_)>=0)&&(o[_]=e[_]);return o}f.exports=x,f.exports.__esModule=!0,f.exports.default=f.exports},861:function(f,x,e){var D=e(63405),o=e(79498),g=e(86116),_=e(42281);function I(h){return D(h)||o(h)||g(h)||_()}f.exports=I,f.exports.__esModule=!0,f.exports.default=f.exports}}]);
