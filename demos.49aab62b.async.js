(self.webpackChunkwumu_edit_table=self.webpackChunkwumu_edit_table||[]).push([[433],{76555:function(f,b,n){"use strict";n.r(b);var W=n(42122),i=n.n(W),p=n(27424),E=n.n(p),D=n(67294),h=n(16200),v=n(95716),_=n(85893);b.default=function(){var ae=(0,D.useState)(""),O=E()(ae,2),se=O[0],he=O[1],z=[{verison:"0.0.1",log:"init project",remark:"\u{1F44A}based on dumi v2",user:{name:"xiaohua",age:18}},{verison:"0.0.2",log:"add header Render"},{verison:"0.0.3",log:"feat style"},{verison:"\u{1F4A5}0.1.0",log:"add changeHandle",remark:"\u57FA\u7840\u529F\u80FD\u5DF2\u7ECF\u53EF\u7528"},{verison:"0.1.2",log:"add api docs",remark:"\u2728\u65B0\u589Eapi\u6587\u6863"},{verison:"\u{1F38A}0.1.3",log:"add github pages",remark:"\u5730\u5740: https://wumusenlin.github.io/wumu-edit-table/components/edit-table"}],r=(0,D.useState)(z.map(function(L,w){return i()(i()({},L),{},{index:w})})),U=E()(r,2),ie=U[0],k=U[1],re=[{title:"\u5E8F\u53F7",dataIndex:"index",width:60,align:"center",fixed:"left"},{title:"\u7248\u672C\u53F7",dataIndex:"verison",width:120,fixed:"left"},{title:"\u66F4\u65B0\u65E5\u5FD7",dataIndex:"log",align:"right",width:300,inputOptions:{placeholder:"\u8BF7\u8F93\u5165\u66F4\u65B0\u65E5\u5FD7"}},{title:"\u7248\u672C\u5907\u6CE8",dataIndex:"remark",width:400},{title:"\u66F4\u65B0\u4EBA-\u59D3\u540D",dataIndex:["user","name"],width:120},{title:"\u66F4\u65B0\u4EBA-\u5E74\u7EAA",width:120,dataIndex:["user","age"]},{title:"\u64CD\u4F5C",width:120,dataIndex:"options",fixed:"right",align:"center",permanentNode:function(w,I){return(0,_.jsx)("a",{onClick:function(){console.log(I),k(function(j){return j.slice(0,-1)})},children:"\u5220\u9664"})}}],Q=function(){k(function(w){return w.concat([{}])})},Y=function(){k(function(w){return w.slice(0,-1)})},X=function(){k([])},$=function(w,I){console.log("options",I),k(w)};return(0,_.jsxs)("div",{className:"wumu-demo",children:[(0,_.jsxs)("div",{className:"wumu-demo-wrap",style:{display:"flex",marginBottom:"16px"},children:[(0,_.jsx)("button",{onClick:Q,type:"button",className:"wumu-demo-button",children:"\u65B0\u589E\u884C\u5230\u6700\u540E"}),(0,_.jsx)("button",{onClick:Y,type:"button",className:"wumu-demo-button",children:"\u5220\u9664\u6700\u540E\u884C"}),(0,_.jsx)("button",{onClick:X,type:"button",className:"wumu-demo-button",children:"\u5168\u90E8\u5220\u9664"})]}),(0,_.jsx)(h.O,{editId:se,onEdit:he,columns:re,dataSource:ie,onChange:$})]})}},77648:function(f,b,n){"use strict";n.r(b);var W=n(42122),i=n.n(W),p=n(27424),E=n.n(p),D=n(67294),h=n(16200),v=n(95716),_=n(85893);b.default=function(){var ae=(0,D.useState)(""),O=E()(ae,2),se=O[0],he=O[1],z=[{value:1,label:"v0.0.1"},{value:2,label:"v0.1.0"},{value:3,label:"v0.1.2"},{value:4,label:"v0.1.3"}],r=[{id:1,verison:"0.0.1",log:"init project",remark:"\u{1F44A}based on dumi v2"},{id:2,verison:"0.0.2",log:"add header Render"},{id:3,verison:"0.0.3",log:"feat style"},{id:4,verison:"\u{1F4A5}0.1.0",log:"add changeHandle",remark:"\u57FA\u7840\u529F\u80FD\u5DF2\u7ECF\u53EF\u7528"},{id:5,verison:"0.1.2",log:"add api docs",remark:"\u2728\u65B0\u589Eapi\u6587\u6863"},{id:6,verison:"\u{1F38A}0.1.3",log:"add github pages",remark:"\u5730\u5740: https://wumusenlin.github.io/wumu-edit-table/components/edit-table"}],U=[{versionId:1,verison:"0.0.1",log:"init project",remark:"\u{1F44A}based on dumi v2"},{versionId:4,verison:"\u{1F4A5}0.1.0",log:"add changeHandle",remark:"\u57FA\u7840\u529F\u80FD\u5DF2\u7ECF\u53EF\u7528"},{}],ie=(0,D.useState)(U.map(function(w,I){return i()(i()({},w),{},{index:I})})),k=E()(ie,2),re=k[0],Q=k[1],Y=function(I){var x=I._rowIndex+1;Q(function(j){return j.slice(0,x).concat({}).concat(j.slice(x))})},X=function(I){var x=I._rowIndex;Q(function(j){return x<0?j:j.slice(0,x).concat(j.slice(x+1))})},$=[{title:"\u2795",dataIndex:"add",width:60,align:"center",fixed:"left",permanentNode:function(I,x){return(0,_.jsx)("a",{title:"\u65B0\u589E\u884C",style:{cursor:"pointer",color:"green"},onClick:function(){return Y(x)},children:"\u2795"})}},{title:"\u9009\u62E9\u7248\u672C\u53F7",dataIndex:"versionId",width:200,inputType:"select",inputOptions:{selectData:z}},{title:"\u7248\u672C\u53F7",dataIndex:"verison",width:300},{title:"\u66F4\u65B0\u65E5\u5FD7",dataIndex:"log",align:"right",width:300},{title:"\u5907\u6CE8",dataIndex:"remark"},{title:"\u2796",dataIndex:"add",width:80,align:"center",fixed:"right",permanentNode:function(I,x){return(0,_.jsx)("a",{title:"\u5220\u9664\u884C",style:{cursor:"pointer",color:"green"},onClick:function(){return X(x)},children:"\u2796"})}}],L=function(I,x){var j;console.log("options",x);var ge=x.value,Ee=x.rowIndex,ye=(j=r.find(function(Ae){return Ae.id===ge}))!==null&&j!==void 0?j:{};I[Ee]=i()(i()({},I[Ee]),ye),Q(I)};return(0,_.jsx)("div",{className:"wumu-demo",children:(0,_.jsx)(h.O,{editId:se,onEdit:he,columns:$,dataSource:re,onChange:L})})}},13595:function(f,b,n){"use strict";n.r(b);var W=n(42122),i=n.n(W),p=n(27424),E=n.n(p),D=n(67294),h=n(16200),v=n(95716),_=n(85893);b.default=function(){var ae=(0,D.useState)(""),O=E()(ae,2),se=O[0],he=O[1],z=[{value:1,label:"v0.0.1"},{value:2,label:"v0.1.0"},{value:3,label:"v0.1.2"},{value:4,label:"v0.1.3"}],r=[{id:1,verison:"0.0.1",log:"init project",remark:"\u{1F44A}based on dumi v2"},{id:2,verison:"0.0.2",log:"add header Render"},{id:3,verison:"0.0.3",log:"feat style"},{id:4,verison:"\u{1F4A5}0.1.0",log:"add changeHandle",remark:"\u57FA\u7840\u529F\u80FD\u5DF2\u7ECF\u53EF\u7528"},{id:5,verison:"0.1.2",log:"add api docs",remark:"\u2728\u65B0\u589Eapi\u6587\u6863"},{id:6,verison:"\u{1F38A}0.1.3",log:"add github pages",remark:"\u5730\u5740: https://wumusenlin.github.io/wumu-edit-table/components/edit-table"}],U=[{title:"\u5E8F\u53F7",dataIndex:"index",width:60,align:"center",fixed:"left"},{title:"\u9009\u62E9\u7248\u672C\u53F7",dataIndex:"select",width:200,inputType:"select",inputOptions:{selectData:z}},{title:"\u7248\u672C\u53F7",dataIndex:"verison",width:300},{title:"\u66F4\u65B0\u65E5\u5FD7",dataIndex:"log",align:"right",width:300},{title:"\u5907\u6CE8",dataIndex:"remark"}],ie=[{}],k=(0,D.useState)(ie.map(function(I,x){return i()(i()({},I),{},{index:x})})),re=E()(k,2),Q=re[0],Y=re[1],X=function(){Y(function(x){return x.concat([{}])})},$=function(){Y(function(x){return x.slice(0,-1)})},L=function(){Y([])},w=function(x,j){var ge;console.log("options",j);var Ee=j.value,ye=j.rowIndex,Ae=(ge=r.find(function(Le){return Le.id===Ee}))!==null&&ge!==void 0?ge:{};x[ye]=i()(i()({},x[ye]),Ae),Y(x)};return(0,_.jsxs)("div",{className:"wumu-demo",children:[(0,_.jsxs)("div",{className:"wumu-demo-wrap",style:{display:"flex",marginBottom:"16px"},children:[(0,_.jsx)("button",{onClick:X,type:"button",className:"wumu-demo-button",children:"\u65B0\u589E\u884C\u5230\u6700\u540E"}),(0,_.jsx)("button",{onClick:$,type:"button",className:"wumu-demo-button",children:"\u5220\u9664\u6700\u540E\u884C"}),(0,_.jsx)("button",{onClick:L,type:"button",className:"wumu-demo-button",children:"\u5168\u90E8\u5220\u9664"})]}),(0,_.jsx)(h.O,{editId:se,onEdit:he,columns:U,dataSource:Q,onChange:w})]})}},51309:function(f,b,n){"use strict";n.r(b);var W=n(27424),i=n.n(W),p=n(67294),E=n(16200),D=n(95716),h=n(85893);b.default=function(){var v=(0,p.useState)(""),_=i()(v,2),ae=_[0],O=_[1],se=[{name:"\u68EE\u6797",job:"\u5207\u56FE\u5D3D",age:"25",address:"\u56DB\u5DDD\u5FB7\u9633",remark:"\u60F3\u5199\u4E00\u4E2A\u7B80\u5355\u7684\u76F4\u63A5\u4E0A\u624B\u7684\u53EF\u7F16\u8F91\u8868\u683C"},{name:"\u8D3E\u5C0F\u82B1",job:"\u4F1A\u8BA1",age:"\u4FDD\u5BC6",address:"",remark:"\u5E73\u65F6\u5C31\u662F\u505A\u505A\u8D26\uFF0C\u62A5\u62A5\u7A0E\uFF0C\u4ED8\u4ED8\u6B3E\u800C\u5DF2\uFF0C\u4E00\u4E2A\u6708\u6709\u534A\u4E2A\u6708\u5728\u73A9"},{name:"\u738B\u5927\u78CA",job:"\u7535\u7ADE\u5DE5\u4F5C\u8005",age:"",address:"\u5BB6\u91CC",remark:""},{remark:void 0}],he=(0,p.useState)(se),z=i()(he,2),r=z[0],U=z[1],ie=[{title:"\u59D3\u540D",dataIndex:"name"},{title:"\u804C\u4E1A",dataIndex:"job"},{title:"\u5E74\u9F84",dataIndex:"age"},{title:"\u5BB6\u5EAD\u5730\u5740",dataIndex:"address"},{title:"\u5907\u6CE8",dataIndex:"remark"}],k=function(){U(function($){return $.concat([{}])})},re=function(){U(function($){return $.slice(0,-1)})},Q=function(){U([])},Y=function($,L){console.log("options",L),U($)};return(0,h.jsxs)("div",{className:"wumu-demo",children:[(0,h.jsxs)("div",{className:"wumu-demo-wrap",style:{display:"flex",marginBottom:"16px"},children:[(0,h.jsx)("button",{onClick:k,type:"button",className:"wumu-demo-button",children:"\u65B0\u589E\u884C\u5230\u6700\u540E"}),(0,h.jsx)("button",{onClick:re,type:"button",className:"wumu-demo-button",children:"\u5220\u9664\u6700\u540E\u884C"}),(0,h.jsx)("button",{onClick:Q,type:"button",className:"wumu-demo-button",children:"\u5168\u90E8\u5220\u9664"})]}),(0,h.jsx)(E.O,{editId:ae,onEdit:O,columns:ie,dataSource:r,onChange:Y})]})}},16200:function(f,b,n){"use strict";n.d(b,{O:function(){return nt}});var W=n(42122),i=n.n(W),p=n(38416),E=n.n(p),D=n(27424),h=n.n(D),v=n(67294),_=n(861),ae=n.n(_);function O(e){return Array.isArray(e)?e:[]}function se(e){return e!=null&&e!==""}function he(e){return Array.isArray(e)&&e.length>0}var z=function(t){return typeof t=="function"},r=n(85893),U={text:"text",select:"select"};function ie(e){var t=e.columns,o=e.autoCol,a=e.scrollBar,l=o.autoWidthColIndex,u=o.autoColWidth,s=a?t.concat([{width:a,dataIndex:"_innerScrollBar",title:""}]):t;return(0,r.jsx)("colgroup",{children:s.map(function(m,d){var c=m.width,A="col-".concat(d);return l===d?(0,r.jsx)("col",{style:{width:u!=null?u:120}},A):(0,r.jsx)("col",{style:{width:c!=null?c:120}},A)})})}function k(e){var t=e.columns,o=e.clientWidth,a=o===void 0?0:o,l=null;t.forEach(function(s,m){var d=s.fixed;d!=="right"&&(l=m)});var u=a-t.reduce(function(s,m,d){var c;return s+(d===l?0:(c=m.width)!==null&&c!==void 0?c:120)},0);return{autoWidthColIndex:l,autoColWidth:u<120?120:u}}function re(e){var t=0,o=0,a={},l={},u=O(e).length;return O(e).reverse().forEach(function(s,m){var d=s.width,c=d===void 0?120:d,A=s.fixed;A==="right"&&(l[u-m-1]=o,o+=c)}),O(e).reverse().forEach(function(s,m){var d=s.width,c=s.fixed;c==="left"&&(a[m]=t,t+=d)}),{left:a,right:l}}function Q(e){return e.map(function(t,o){return i()(i()({},t),{},{_rowIndex:o,rowIndex:o})})}function Y(){return(0,r.jsx)("div",{className:"wumu-default-not-found-content",children:"\u6682\u65E0\u6570\u636E~"})}function X(e){var t=e.containerInfo,o=e.children,a=o===void 0?Y():o,l={width:t.offsetWidth,marginLeft:t.scrollLeft};return(0,r.jsx)("div",{children:(0,r.jsx)("div",{style:l,children:a})})}function $(e){var t=e.className,o=e.rowIndex,a=e.columnIndex,l=e.readonly,u=e.fixed,s=e.fixedClassName,m=s===void 0?"table-fixed-td":s,d=e.fixedInfo,c=t;return o===0&&(c+=" table-first-tr"),a===0&&(c+=" table-first-td"),l&&(c+=" table-td-readonly"),u&&(u==="left"&&d?a===Math.max.apply(Math,ae()(Object.keys(d==null?void 0:d.left)))&&(c+=" fixed-left-shadow"):u==="right"&&d&&a===Math.min.apply(Math,ae()(Object.keys(d==null?void 0:d.right)))&&(c+=" fixed-right-shadow"),c+=" ".concat(m)),c}function L(e){var t=e.style,o=e.fixed,a=e.align,l=e.fixedInfo,u=e.columnIndex,s=e.defaultRightWidth,m=s===void 0?0:s;return a&&(t.textAlign=a),o&&(t.position="sticky",t.zIndex=1,o==="left"?t.left=l.left[u]:o==="right"&&(t.right=l.right[u]+m)),t}function w(e,t){var o=String(e).replace(/[^0-9a-f]/gi,"");o.length<6&&(o=o[0]+o[0]+o[1]+o[1]+o[2]+o[2]);var a=t||0,l="#",u,s;for(s=0;s<3;s++)u=parseInt(o.substr(s*2,2),16),u=Math.round(Math.min(Math.max(0,u+u*a),255)).toString(16),l+=("00"+u).substring(u.length);return l}function I(e,t){var o,a=e==null||(o=e.color)===null||o===void 0?void 0:o.primaryColor;return t?w(a||"#1da57a",t):"".concat(a!=null?a:"var(--primary-color)")}function x(e){var t=e!=null?e:{},o=t.onAdd,a=t.onDelete,l=t.deleteAll;return[o,a,l].every(function(u){return!se(u)})?null:(0,r.jsxs)("div",{className:"wumu-toolbar",children:[z(o)?(0,r.jsx)("button",{onClick:o,type:"button",className:"wumu-demo-button",title:"\u65B0\u589E\u884C",children:"+"}):null,z(a)?(0,r.jsx)("button",{onClick:a,type:"button",className:"wumu-demo-button",title:"\u5220\u9664\u884C",children:"-"}):null,z(l)?(0,r.jsx)("button",{onClick:l,type:"button",className:"wumu-demo-button",title:"\u5220\u9664\u6240\u6709",children:"\u5220\u9664\u6240\u6709\u6570\u636E"}):null]})}function j(e){var t=e.columns,o=e.headerHeight,a=e.fixedInfo,l=e.scrollBar,u=t.map(function(m,d){var c=m.title,A=m.dataIndex,N=m.align,K=N===void 0?"left":N,g=m.fixed,B=m.readonly,y={textAlign:K},q="".concat(A,"-").concat(d),R=g?(0,r.jsx)("div",{className:"table-cell-overflow-hidden",children:c}):c;return(0,r.jsx)("th",{title:c,className:$({className:"table-th",readonly:B,fixed:g,fixedInfo:a,fixedClassName:"table-fixed-th",columnIndex:d}),style:L({style:y,align:K,fixed:g,fixedInfo:a,columnIndex:d,defaultRightWidth:l}),children:R},q)}),s={height:o};return(0,r.jsx)("thead",{children:(0,r.jsx)("tr",{style:s,className:"table-header",children:u})})}var ge=j,Ee=n(70215),ye=n.n(Ee),Ae=function(t){var o=t.initValue,a=t.inputChange,l=a===void 0?function(){}:a,u=t.onEdit,s=u===void 0?function(){}:u,m=t.column,d=m.align,c=d===void 0?"left":d,A=m.inputOptions,N=A===void 0?{}:A,K={textAlign:c};return(0,r.jsx)("input",i()({className:"wumu-input",style:K,defaultValue:o,onChange:function(B){l(B.target.value)},autoFocus:!0,onBlur:function(){return s("")}},N))},Le=Ae,Ke=n(73935),Ue=function(t){var o,a,l,u=(0,v.useRef)({current:{inited:!1}}),s=(0,v.useContext)(Ne),m=s.topHeight,d=t.initValue,c=t.inputChange,A=c===void 0?function(){}:c,N=t.onEdit,K=N===void 0?function(){}:N,g=t.column,B=t.config,y=B===void 0?null:B,q=g.align,R=q===void 0?"left":q,G=g.inputOptions,ce=g.dataIndex,me=G!=null?G:{},H=me.selectData,ee=(o=(a=O(H).find(function(M){return M.value===d}))===null||a===void 0?void 0:a.label)!==null&&o!==void 0?o:d,T=(0,v.useRef)(null),te=(0,v.useState)(!0),le=h()(te,2),ne=le[0],Z=le[1],fe=(0,v.useState)({}),F=h()(fe,2),S=F[0],pe=F[1],_e={textAlign:R},V={position:"absolute",zIndex:"10",width:((l=S==null?void 0:S.clientWidth)!==null&&l!==void 0?l:120)+16,left:(S==null?void 0:S.left)-16,top:(S==null?void 0:S.top)+(S==null?void 0:S.clientHeight)+3-m},P=(0,v.useMemo)(function(){if((H==null?void 0:H.length)===0)return(0,r.jsx)("div",{className:"wumu-dropdown-notfount",children:"\u6682\u65E0\u6570\u636E ~"});var M=O(H).map(function(C,de){var ue=C.value,Ce=C.label,De="".concat(de,"-").concat(ue),Se=ue===d,we="".concat(Se?"wumu-dropDown-selected-item":""," wumu-dropdown-item"),J=Se?{backgroundColor:"".concat(I(y,.3))}:{};return(0,r.jsx)("div",{style:J,className:we,onClick:function(Ie){Ie.stopPropagation(),A(ue),K(""),Z(!1)},children:Ce},De)});return(0,r.jsx)(r.Fragment,{children:M})},[H==null?void 0:H.length]),oe=function(){u.current.inited?(Z(!1),K("")):u.current.inited=!0};(0,v.useEffect)(function(){if(T!=null&&T.current){for(var M,C=T.current,de=(M=T.current)!==null&&M!==void 0?M:{},ue=de.clientWidth,Ce=de.clientHeight,De=de.offsetTop,Se=de.offsetLeft,we=De,J=Se;(je=C)!==null&&je!==void 0&&je.offsetParent;){var je,Ie;we+=C.offsetTop,J+=C.offsetLeft,C=(Ie=C)===null||Ie===void 0?void 0:Ie.offsetParent}pe({clientWidth:ue,clientHeight:Ce,top:we,left:J})}},[T==null?void 0:T.current]),(0,v.useEffect)(function(){return document.addEventListener("click",oe),function(){return document.removeEventListener("click",oe)}},[]);var ve=ne?(0,Ke.createPortal)((0,r.jsx)("div",{className:"wumu-input-dropdown",style:V,children:P}),document.body):null;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{ref:T,className:"wumu-input",autoFocus:!0,name:ce,style:_e,onBlur:function(){return K("")},children:ee}),ve]})},ke=Ue,Fe=function(t){var o=t.column,a=o.inputType;return a===U.select?(0,r.jsx)(ke,i()({},t)):(0,r.jsx)(Le,i()({},t))},Ve=Fe;function ze(e){var t,o,a=e.rowIndex,l=e.record,u=e.rowHeight,s=e.editId,m=e.onEdit,d=m===void 0?function(){}:m,c=e.handleChange,A=c===void 0?function(){}:c,N=e.config,K=N===void 0?null:N,g=e.col,B=e.columnIndex,y=e.fixedInfo,q=l._rowIndex,R=g.dataIndex,G=g.align,ce=G===void 0?"left":G,me=g.readonly,H=me===void 0?!1:me,ee=g.fixed,T=g.inputType,te=g.permanentNode,le="".concat(B,"-").concat(R),ne="".concat(q,"-").concat(R),Z=ne===s,fe={height:u,boxShadow:Z?"inset 0px 0px 0px 1px ".concat(I(K)):"",padding:Z?" 0 8px":"0 12px"},F=function(){if(Array.isArray(R)){var P=l;return R.forEach(function(oe){P instanceof Object?P=P[oe]:P=null}),P}return l[R]};if(te){var S=z(te)?te(F(),l):te;return(0,r.jsx)("td",{id:ne,style:L({style:fe,align:ce,fixed:ee,fixedInfo:y,columnIndex:B}),className:$({className:"table-td-node",rowIndex:a,columnIndex:B,readonly:H,fixedInfo:y,fixed:ee}),children:S},le)}var pe=function(P){A(P,{rowIndex:q,dataIndex:R,record:l})},_e=Z?(0,r.jsx)(Ve,{config:K,initValue:F(),inputChange:pe,onEdit:d,column:g}):T===U.select?(t=O(g==null||(o=g.inputOptions)===null||o===void 0?void 0:o.selectData).find(function(V){return V.value===F()}))===null||t===void 0?void 0:t.label:ee?(0,r.jsx)("div",{className:"table-cell-overflow-hidden",children:F()}):F();return(0,r.jsx)("td",{id:ne,style:L({style:fe,align:ce,fixed:ee,fixedInfo:y,columnIndex:B}),className:$({className:"table-td",rowIndex:a,columnIndex:B,readonly:H,fixed:ee,fixedInfo:y}),title:F(),onClick:function(){return typeof d=="function"&&!H?d(ne):void 0},children:_e},le)}var Ye=ze;function Ge(e){var t=e.columns;return(0,r.jsx)("tr",{className:"table-tr",children:t.map(function(o,a){return Ye(i()(i()({},e),{},{col:o,columnIndex:a}))})})}var Xe=Ge,Ze=["dataSource","notFoundContent"];function Je(e){var t=e.dataSource,o=e.notFoundContent,a=ye()(e,Ze),l=O(t).length===0;return l?o:(0,r.jsx)("tbody",{className:"table-tbody",children:O(t).map(function(u,s){return Xe(i()({rowIndex:s,record:u},a))})})}var Qe=Je,qe=function(t,o){var a,l=o!=null?o:{},u=l.overscan,s=u===void 0?0:u,m=l.itemHeight,d=m===void 0?40:m,c=l.maxHeight,A=c===void 0?400:c,N=l.onScrolled,K=N===void 0?function(){}:N,g=l.wrapperPropsStyle,B=g===void 0?{}:g,y=(0,v.useRef)(null),q=(0,v.useState)(0),R=h()(q,2),G=R[0],ce=R[1],me=(0,v.useState)(Math.ceil(A/d)),H=h()(me,1),ee=H[0],T=(0,v.useState)({offsetWidth:0,clientWidth:0}),te=h()(T,2),le=te[0],ne=te[1],Z=G*d,fe=(t==null?void 0:t.length)*d,F=function(P){var oe=P.target,ve=oe.scrollTop,M=ve===void 0?0:ve,C=oe.scrollLeft,de=C===void 0?0:C;K({scrollLeft:de,scrollTop:M});var ue=s>0?Math.floor(M/d)-Math.ceil(s/2):Math.floor(M/d);ce(ue>0?ue:0)},S={style:i()(i()({},B),{},{width:"100%",height:fe,transform:"translateZ(0)",paddingTop:Z})},pe={onScroll:F,ref:function(P){return y.current=P},style:{overflowY:"overlay",overflowX:"auto",maxHeight:A,overflow:"auto"}};(0,v.useEffect)(function(){if(y!=null&&y.current){var V=new ResizeObserver(function(P){P.forEach(function(oe){var ve=oe.target,M=ve.offsetWidth,C=ve.clientWidth;ne({offsetWidth:M,clientWidth:C})})});return V.observe(y==null?void 0:y.current),function(){V.disconnect()}}},[y==null?void 0:y.current]);var _e=t.slice(G,G+ee+s);return{list:_e,wrapperProps:S,containerProps:pe,topHeight:Z,bottomHeight:fe-Z-((a=_e.length)!==null&&a!==void 0?a:0)*d,containerInfo:le,hasScrollY:!1}},et=qe,Ne=(0,v.createContext)({topHeight:0});function Be(){return 16}var tt=function(t){var o=t.columns,a=t.dataSource,l=t.editId,u=t.onEdit,s=u===void 0?function(){}:u,m=t.rowHeight,d=m===void 0?40:m,c=t.maxHeight,A=c===void 0?400:c,N=t.headerHeight,K=N===void 0?55:N,g=t.onChange,B=g===void 0?function(){}:g,y=t.hiddenHerder,q=y===void 0?!1:y,R=t.notFoundContent,G=R===void 0?null:R,ce=t.config,me=ce===void 0?null:ce,H=t.onAdd,ee=t.onDelete,T=(0,v.useRef)(null),te=(0,v.useState)([]),le=h()(te,2),ne=le[0],Z=le[1],fe=(0,v.useState)([]),F=h()(fe,2),S=F[0],pe=F[1],_e=(0,v.useState)({autoWidthColIndex:null,autoColWidth:120}),V=h()(_e,2),P=V[0],oe=V[1],ve=(0,v.useState)({}),M=h()(ve,2),C=M[0],de=M[1],ue=(0,v.useState)({left:{},right:{}}),Ce=h()(ue,2),De=Ce[0],Se=Ce[1],we={itemHeight:d,maxHeight:A,overscan:0,onScrolled:function(Oe){var Me=Oe.scrollLeft,Pe=Oe.scrollTop;de({scrollLeft:Me,scrollTop:Pe}),T.current&&(T.current.scrollLeft=Me)},wrapperPropsStyle:{borderSpacing:0}},J=et(ne,we),je=J.list,Ie=J.wrapperProps,ot=J.containerProps,at=J.bottomHeight,xe=J.containerInfo,it=J.topHeight,Re=J.hasScrollY,rt=function(Oe,Me){var Pe=Me.rowIndex,We=Me.dataIndex,Te=ne;Array.isArray(We)?We.reduceRight(function(He,$e,st){return st===0&&(Te[Pe][$e]=He),E()({},$e,He)},Oe):Te[Pe][We]=Oe,B(Te,{rowIndex:Pe,dataIndex:We,value:Oe,record:Te[Pe]})};(0,v.useEffect)(function(){Z(Q(a))},[a.length]),(0,v.useEffect)(function(){pe(o),Se(re(o))},[o]),(0,v.useEffect)(function(){xe.clientWidth&&oe(k({columns:S,clientWidth:xe.clientWidth}))},[xe]);var lt=q?null:(0,r.jsx)("div",{className:"wumu-table-header",ref:T,children:(0,r.jsxs)("table",{children:[ie({columns:S,autoCol:P,scrollBar:Re?Be():void 0}),ge({columns:S,headerHeight:K,containerInfo:i()(i()({},C),xe),fixedInfo:De,scrollBar:Re?Be():void 0})]})}),dt={topHeight:it},ut=(0,v.useMemo)(function(){var be="wumu-table";return(C==null?void 0:C.scrollLeft)>0&&(be=be+" has-left-shadow"),be=be+" has-right-shadow",be},[C,xe,P]);return(0,r.jsxs)("div",{className:ut,children:[x({onAdd:H,onDelete:ee}),(0,r.jsxs)("div",i()(i()({className:"wumu-table-body"},ot),{},{children:[lt,(0,r.jsx)(Ne.Provider,{value:dt,children:(0,r.jsxs)("table",i()(i()({},Ie),{},{children:[ie({columns:o,autoCol:P}),Qe({config:me,dataSource:je,columns:S,rowHeight:d,onEdit:s,editId:l,handleChange:rt,containerInfo:i()(i()({},C),xe),fixedInfo:De,notFoundContent:X(G?{containerInfo:i()(i()({},C),xe),children:G}:{containerInfo:i()(i()({},C),xe),children:Y()})}),(0,r.jsx)("div",{style:{height:at}})]}))})]}))]})},nt=tt},95716:function(){"use strict"},63405:function(f,b,n){var W=n(73897);function i(p){if(Array.isArray(p))return W(p)}f.exports=i,f.exports.__esModule=!0,f.exports.default=f.exports},79498:function(f){function b(n){if(typeof Symbol!="undefined"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}f.exports=b,f.exports.__esModule=!0,f.exports.default=f.exports},42281:function(f){function b(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}f.exports=b,f.exports.__esModule=!0,f.exports.default=f.exports},70215:function(f,b,n){var W=n(7071);function i(p,E){if(p==null)return{};var D=W(p,E),h,v;if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(p);for(v=0;v<_.length;v++)h=_[v],!(E.indexOf(h)>=0)&&Object.prototype.propertyIsEnumerable.call(p,h)&&(D[h]=p[h])}return D}f.exports=i,f.exports.__esModule=!0,f.exports.default=f.exports},7071:function(f){function b(n,W){if(n==null)return{};var i={},p=Object.keys(n),E,D;for(D=0;D<p.length;D++)E=p[D],!(W.indexOf(E)>=0)&&(i[E]=n[E]);return i}f.exports=b,f.exports.__esModule=!0,f.exports.default=f.exports},861:function(f,b,n){var W=n(63405),i=n(79498),p=n(86116),E=n(42281);function D(h){return W(h)||i(h)||p(h)||E()}f.exports=D,f.exports.__esModule=!0,f.exports.default=f.exports}}]);
